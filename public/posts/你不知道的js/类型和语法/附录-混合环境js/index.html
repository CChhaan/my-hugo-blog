<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>My New Hugo Site</title>
<meta name="keywords" content="">
<meta name="description" content="一、Annex B（ES 规范的兼容性补充）


背景：
ECMAScript（ES）是 JS 的官方规范，Annex B 专门定义因浏览器兼容性问题导致的与官方规范的差异，主要针对浏览器环境的 JS 实现。


主要兼容性差异：


非严格模式允许八进制数值常量（如012，严格模式下为语法错误）；


浏览器提供window.escape()和window.unescape()，用于转义 / 还原带%分隔符的十六进制字符串（非标准方法，建议避免使用）；
String.prototype.substr与String.prototype.substring
的区别：

substring(start, end)：第二个参数为结束位置索引（不包含该位置）；
substr(start, length)：第二个参数为截取长度。





Web ES 规范的额外差异：

&lt;!--和--&gt;被视为合法单行注释分隔符；
String.prototype包含返回 HTML 格式字符串的附加方法（如anchor()、bold()）；
正则表达式（RegExp）扩展及Function.prototype附加方法（非标准，依赖浏览器实现）。



二、宿主对象

定义：由宿主环境（如浏览器、Node.js）创建并提供给 JS 引擎的对象 / 函数（如window、document、console），包括内建对象和工具函数。
特殊行为差异：

部分宿主对象强制转换为布尔值时可能为假值（如document.all，不符合 JS 标准假值规则）；
其他特性：

可能无法访问普通Object的内建方法（如toString()）；
部分属性为只读，无法覆盖；
方法的this无法重绑定到其他对象。




console 对象：

宿主环境提供的输出工具，浏览器中输出到开发控制台，Node.js 中指向标准输出（stdout）和标准错误输出（stderr）。



三、全局 DOM 对象

全局变量与 global 对象：声明全局变量会同时在全局对象（如浏览器的window）中创建同名属性。
DOM 元素 ID 的副作用：因浏览器历史遗留问题，带id属性的 DOM 元素会自动创建同名全局变量（如&lt;div id=&quot;app&quot;&gt;会生成window.app）。

四、原生原型扩展的注意事项

不建议扩展原生原型：除非确保无代码冲突（如第三方库可能覆盖扩展方法）。
扩展原则：扩展原生方法时需添加判断（如if (!Array.prototype.includes) { ... }），避免覆盖已有功能。
polyfill 与 shim：

shim：带兼容性测试的代码，用于填补环境差异（如检查功能是否存在，不存在则提供替代实现）；
polyfill：只检查功能是否存在，不进行兼容性测试
pollyfill：特殊的 shim，专为实现未被环境支持的标准功能而设计，需与未来标准兼容（如为老浏览器实现Array.prototype.includes）。



五、script 标签与代码加载

多文件 / 内联代码的运行特性：

多个script标签（外部文件或内联代码）共享全局对象，在同一命名空间交互，但全局作用域的提升机制不跨文件边界（即一个文件的变量不会提升到另一个文件）。
单个script出错会停止自身执行，但不影响后续script运行。


动态创建 script：通过 JS 动态创建&lt;script&gt;标签并插入 DOM，效果与静态标签一致，可用于动态加载外部文件。
内联代码的特殊限制：内联代码中不能直接出现&lt;/script&gt;（会被视为代码块结束），变通方法为拆分字符串（如&quot;&lt;sc&quot;&#43;&quot;ript&gt;&quot;）。
字符集差异：

外部文件通过script标签的charset属性指定解析字符集；
内联代码使用所在页面的字符集，且内联script无charset属性。



六、保留字


定义：ES5 规范定义的不可用作变量名的标识符，包括四类：">
<meta name="author" content="">
<link rel="canonical" href="https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/%E9%99%84%E5%BD%95-%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83js/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://example.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://example.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://example.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://example.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://example.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/%E9%99%84%E5%BD%95-%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83js/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/%E9%99%84%E5%BD%95-%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83js/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="My New Hugo Site">
  <meta property="og:description" content="一、Annex B（ES 规范的兼容性补充） 背景： ECMAScript（ES）是 JS 的官方规范，Annex B 专门定义因浏览器兼容性问题导致的与官方规范的差异，主要针对浏览器环境的 JS 实现。
主要兼容性差异：
非严格模式允许八进制数值常量（如012，严格模式下为语法错误）；
浏览器提供window.escape()和window.unescape()，用于转义 / 还原带%分隔符的十六进制字符串（非标准方法，建议避免使用）；
String.prototype.substr与String.prototype.substring
的区别：
substring(start, end)：第二个参数为结束位置索引（不包含该位置）； substr(start, length)：第二个参数为截取长度。 Web ES 规范的额外差异：
&lt;!--和--&gt;被视为合法单行注释分隔符； String.prototype包含返回 HTML 格式字符串的附加方法（如anchor()、bold()）； 正则表达式（RegExp）扩展及Function.prototype附加方法（非标准，依赖浏览器实现）。 二、宿主对象 定义：由宿主环境（如浏览器、Node.js）创建并提供给 JS 引擎的对象 / 函数（如window、document、console），包括内建对象和工具函数。 特殊行为差异： 部分宿主对象强制转换为布尔值时可能为假值（如document.all，不符合 JS 标准假值规则）； 其他特性： 可能无法访问普通Object的内建方法（如toString()）； 部分属性为只读，无法覆盖； 方法的this无法重绑定到其他对象。 console 对象： 宿主环境提供的输出工具，浏览器中输出到开发控制台，Node.js 中指向标准输出（stdout）和标准错误输出（stderr）。 三、全局 DOM 对象 全局变量与 global 对象：声明全局变量会同时在全局对象（如浏览器的window）中创建同名属性。 DOM 元素 ID 的副作用：因浏览器历史遗留问题，带id属性的 DOM 元素会自动创建同名全局变量（如&lt;div id=&#34;app&#34;&gt;会生成window.app）。 四、原生原型扩展的注意事项 不建议扩展原生原型：除非确保无代码冲突（如第三方库可能覆盖扩展方法）。 扩展原则：扩展原生方法时需添加判断（如if (!Array.prototype.includes) { ... }），避免覆盖已有功能。 polyfill 与 shim： shim：带兼容性测试的代码，用于填补环境差异（如检查功能是否存在，不存在则提供替代实现）； polyfill：只检查功能是否存在，不进行兼容性测试 pollyfill：特殊的 shim，专为实现未被环境支持的标准功能而设计，需与未来标准兼容（如为老浏览器实现Array.prototype.includes）。 五、script 标签与代码加载 多文件 / 内联代码的运行特性： 多个script标签（外部文件或内联代码）共享全局对象，在同一命名空间交互，但全局作用域的提升机制不跨文件边界（即一个文件的变量不会提升到另一个文件）。 单个script出错会停止自身执行，但不影响后续script运行。 动态创建 script：通过 JS 动态创建&lt;script&gt;标签并插入 DOM，效果与静态标签一致，可用于动态加载外部文件。 内联代码的特殊限制：内联代码中不能直接出现&lt;/script&gt;（会被视为代码块结束），变通方法为拆分字符串（如&#34;&lt;sc&#34;&#43;&#34;ript&gt;&#34;）。 字符集差异： 外部文件通过script标签的charset属性指定解析字符集； 内联代码使用所在页面的字符集，且内联script无charset属性。 六、保留字 定义：ES5 规范定义的不可用作变量名的标识符，包括四类：">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="">
<meta name="twitter:description" content="一、Annex B（ES 规范的兼容性补充）


背景：
ECMAScript（ES）是 JS 的官方规范，Annex B 专门定义因浏览器兼容性问题导致的与官方规范的差异，主要针对浏览器环境的 JS 实现。


主要兼容性差异：


非严格模式允许八进制数值常量（如012，严格模式下为语法错误）；


浏览器提供window.escape()和window.unescape()，用于转义 / 还原带%分隔符的十六进制字符串（非标准方法，建议避免使用）；
String.prototype.substr与String.prototype.substring
的区别：

substring(start, end)：第二个参数为结束位置索引（不包含该位置）；
substr(start, length)：第二个参数为截取长度。





Web ES 规范的额外差异：

&lt;!--和--&gt;被视为合法单行注释分隔符；
String.prototype包含返回 HTML 格式字符串的附加方法（如anchor()、bold()）；
正则表达式（RegExp）扩展及Function.prototype附加方法（非标准，依赖浏览器实现）。



二、宿主对象

定义：由宿主环境（如浏览器、Node.js）创建并提供给 JS 引擎的对象 / 函数（如window、document、console），包括内建对象和工具函数。
特殊行为差异：

部分宿主对象强制转换为布尔值时可能为假值（如document.all，不符合 JS 标准假值规则）；
其他特性：

可能无法访问普通Object的内建方法（如toString()）；
部分属性为只读，无法覆盖；
方法的this无法重绑定到其他对象。




console 对象：

宿主环境提供的输出工具，浏览器中输出到开发控制台，Node.js 中指向标准输出（stdout）和标准错误输出（stderr）。



三、全局 DOM 对象

全局变量与 global 对象：声明全局变量会同时在全局对象（如浏览器的window）中创建同名属性。
DOM 元素 ID 的副作用：因浏览器历史遗留问题，带id属性的 DOM 元素会自动创建同名全局变量（如&lt;div id=&quot;app&quot;&gt;会生成window.app）。

四、原生原型扩展的注意事项

不建议扩展原生原型：除非确保无代码冲突（如第三方库可能覆盖扩展方法）。
扩展原则：扩展原生方法时需添加判断（如if (!Array.prototype.includes) { ... }），避免覆盖已有功能。
polyfill 与 shim：

shim：带兼容性测试的代码，用于填补环境差异（如检查功能是否存在，不存在则提供替代实现）；
polyfill：只检查功能是否存在，不进行兼容性测试
pollyfill：特殊的 shim，专为实现未被环境支持的标准功能而设计，需与未来标准兼容（如为老浏览器实现Array.prototype.includes）。



五、script 标签与代码加载

多文件 / 内联代码的运行特性：

多个script标签（外部文件或内联代码）共享全局对象，在同一命名空间交互，但全局作用域的提升机制不跨文件边界（即一个文件的变量不会提升到另一个文件）。
单个script出错会停止自身执行，但不影响后续script运行。


动态创建 script：通过 JS 动态创建&lt;script&gt;标签并插入 DOM，效果与静态标签一致，可用于动态加载外部文件。
内联代码的特殊限制：内联代码中不能直接出现&lt;/script&gt;（会被视为代码块结束），变通方法为拆分字符串（如&quot;&lt;sc&quot;&#43;&quot;ript&gt;&quot;）。
字符集差异：

外部文件通过script标签的charset属性指定解析字符集；
内联代码使用所在页面的字符集，且内联script无charset属性。



六、保留字


定义：ES5 规范定义的不可用作变量名的标识符，包括四类：">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://example.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "",
      "item": "https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/%E9%99%84%E5%BD%95-%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83js/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "name": "",
  "description": "一、Annex B（ES 规范的兼容性补充） 背景： ECMAScript（ES）是 JS 的官方规范，Annex B 专门定义因浏览器兼容性问题导致的与官方规范的差异，主要针对浏览器环境的 JS 实现。\n主要兼容性差异：\n非严格模式允许八进制数值常量（如012，严格模式下为语法错误）；\n浏览器提供window.escape()和window.unescape()，用于转义 / 还原带%分隔符的十六进制字符串（非标准方法，建议避免使用）；\nString.prototype.substr与String.prototype.substring\n的区别：\nsubstring(start, end)：第二个参数为结束位置索引（不包含该位置）； substr(start, length)：第二个参数为截取长度。 Web ES 规范的额外差异：\n\u0026lt;!--和--\u0026gt;被视为合法单行注释分隔符； String.prototype包含返回 HTML 格式字符串的附加方法（如anchor()、bold()）； 正则表达式（RegExp）扩展及Function.prototype附加方法（非标准，依赖浏览器实现）。 二、宿主对象 定义：由宿主环境（如浏览器、Node.js）创建并提供给 JS 引擎的对象 / 函数（如window、document、console），包括内建对象和工具函数。 特殊行为差异： 部分宿主对象强制转换为布尔值时可能为假值（如document.all，不符合 JS 标准假值规则）； 其他特性： 可能无法访问普通Object的内建方法（如toString()）； 部分属性为只读，无法覆盖； 方法的this无法重绑定到其他对象。 console 对象： 宿主环境提供的输出工具，浏览器中输出到开发控制台，Node.js 中指向标准输出（stdout）和标准错误输出（stderr）。 三、全局 DOM 对象 全局变量与 global 对象：声明全局变量会同时在全局对象（如浏览器的window）中创建同名属性。 DOM 元素 ID 的副作用：因浏览器历史遗留问题，带id属性的 DOM 元素会自动创建同名全局变量（如\u0026lt;div id=\u0026quot;app\u0026quot;\u0026gt;会生成window.app）。 四、原生原型扩展的注意事项 不建议扩展原生原型：除非确保无代码冲突（如第三方库可能覆盖扩展方法）。 扩展原则：扩展原生方法时需添加判断（如if (!Array.prototype.includes) { ... }），避免覆盖已有功能。 polyfill 与 shim： shim：带兼容性测试的代码，用于填补环境差异（如检查功能是否存在，不存在则提供替代实现）； polyfill：只检查功能是否存在，不进行兼容性测试 pollyfill：特殊的 shim，专为实现未被环境支持的标准功能而设计，需与未来标准兼容（如为老浏览器实现Array.prototype.includes）。 五、script 标签与代码加载 多文件 / 内联代码的运行特性： 多个script标签（外部文件或内联代码）共享全局对象，在同一命名空间交互，但全局作用域的提升机制不跨文件边界（即一个文件的变量不会提升到另一个文件）。 单个script出错会停止自身执行，但不影响后续script运行。 动态创建 script：通过 JS 动态创建\u0026lt;script\u0026gt;标签并插入 DOM，效果与静态标签一致，可用于动态加载外部文件。 内联代码的特殊限制：内联代码中不能直接出现\u0026lt;/script\u0026gt;（会被视为代码块结束），变通方法为拆分字符串（如\u0026quot;\u0026lt;sc\u0026quot;+\u0026quot;ript\u0026gt;\u0026quot;）。 字符集差异： 外部文件通过script标签的charset属性指定解析字符集； 内联代码使用所在页面的字符集，且内联script无charset属性。 六、保留字 定义：ES5 规范定义的不可用作变量名的标识符，包括四类：\n",
  "keywords": [
    
  ],
  "articleBody": "一、Annex B（ES 规范的兼容性补充） 背景： ECMAScript（ES）是 JS 的官方规范，Annex B 专门定义因浏览器兼容性问题导致的与官方规范的差异，主要针对浏览器环境的 JS 实现。\n主要兼容性差异：\n非严格模式允许八进制数值常量（如012，严格模式下为语法错误）；\n浏览器提供window.escape()和window.unescape()，用于转义 / 还原带%分隔符的十六进制字符串（非标准方法，建议避免使用）；\nString.prototype.substr与String.prototype.substring\n的区别：\nsubstring(start, end)：第二个参数为结束位置索引（不包含该位置）； substr(start, length)：第二个参数为截取长度。 Web ES 规范的额外差异：\n被视为合法单行注释分隔符； String.prototype包含返回 HTML 格式字符串的附加方法（如anchor()、bold()）； 正则表达式（RegExp）扩展及Function.prototype附加方法（非标准，依赖浏览器实现）。 二、宿主对象 定义：由宿主环境（如浏览器、Node.js）创建并提供给 JS 引擎的对象 / 函数（如window、document、console），包括内建对象和工具函数。 特殊行为差异： 部分宿主对象强制转换为布尔值时可能为假值（如document.all，不符合 JS 标准假值规则）； 其他特性： 可能无法访问普通Object的内建方法（如toString()）； 部分属性为只读，无法覆盖； 方法的this无法重绑定到其他对象。 console 对象： 宿主环境提供的输出工具，浏览器中输出到开发控制台，Node.js 中指向标准输出（stdout）和标准错误输出（stderr）。 三、全局 DOM 对象 全局变量与 global 对象：声明全局变量会同时在全局对象（如浏览器的window）中创建同名属性。 DOM 元素 ID 的副作用：因浏览器历史遗留问题，带id属性的 DOM 元素会自动创建同名全局变量（如会生成window.app）。 四、原生原型扩展的注意事项 不建议扩展原生原型：除非确保无代码冲突（如第三方库可能覆盖扩展方法）。 扩展原则：扩展原生方法时需添加判断（如if (!Array.prototype.includes) { ... }），避免覆盖已有功能。 polyfill 与 shim： shim：带兼容性测试的代码，用于填补环境差异（如检查功能是否存在，不存在则提供替代实现）； polyfill：只检查功能是否存在，不进行兼容性测试 pollyfill：特殊的 shim，专为实现未被环境支持的标准功能而设计，需与未来标准兼容（如为老浏览器实现Array.prototype.includes）。 五、script 标签与代码加载 多文件 / 内联代码的运行特性： 多个script标签（外部文件或内联代码）共享全局对象，在同一命名空间交互，但全局作用域的提升机制不跨文件边界（即一个文件的变量不会提升到另一个文件）。 单个script出错会停止自身执行，但不影响后续script运行。 动态创建 script：通过 JS 动态创建（会被视为代码块结束），变通方法为拆分字符串（如\"",
  "wordCount" : "116",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/%E9%99%84%E5%BD%95-%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83js/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My New Hugo Site",
    "logo": {
      "@type": "ImageObject",
      "url": "https://example.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://example.org/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      
    </h1>
    <div class="post-meta">

</div>
  </header> 
  <div class="post-content"><h3 id="一annex-bes-规范的兼容性补充">一、Annex B（ES 规范的兼容性补充）<a hidden class="anchor" aria-hidden="true" href="#一annex-bes-规范的兼容性补充">#</a></h3>
<ol>
<li>
<p><strong>背景</strong>：
ECMAScript（ES）是 JS 的官方规范，Annex B 专门定义因浏览器兼容性问题导致的与官方规范的差异，主要针对浏览器环境的 JS 实现。</p>
</li>
<li>
<p><strong>主要兼容性差异</strong>：</p>
<ul>
<li>
<p>非严格模式允许<strong>八进制数值常量</strong>（如<code>012</code>，严格模式下为语法错误）；</p>
</li>
<li>
<p>浏览器提供<code>window.escape()</code>和<code>window.unescape()</code>，用于转义 / 还原带<code>%</code>分隔符的十六进制字符串（非标准方法，建议避免使用）；</p>
<p><code>String.prototype.substr</code>与<code>String.prototype.substring</code></p>
<p>的区别：</p>
<ul>
<li><code>substring(start, end)</code>：第二个参数为结束位置索引（不包含该位置）；</li>
<li><code>substr(start, length)</code>：第二个参数为截取长度。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Web ES 规范的额外差异</strong>：</p>
<ul>
<li><code>&lt;!--</code>和<code>--&gt;</code>被视为合法单行注释分隔符；</li>
<li><code>String.prototype</code>包含返回 HTML 格式字符串的附加方法（如<code>anchor()</code>、<code>bold()</code>）；</li>
<li>正则表达式（RegExp）扩展及<code>Function.prototype</code>附加方法（非标准，依赖浏览器实现）。</li>
</ul>
</li>
</ol>
<h3 id="二宿主对象">二、宿主对象<a hidden class="anchor" aria-hidden="true" href="#二宿主对象">#</a></h3>
<ol>
<li><strong>定义</strong>：由宿主环境（如浏览器、Node.js）创建并提供给 JS 引擎的对象 / 函数（如<code>window</code>、<code>document</code>、<code>console</code>），包括内建对象和工具函数。</li>
<li><strong>特殊行为差异</strong>：
<ul>
<li>部分宿主对象强制转换为布尔值时可能为<strong>假值</strong>（如<code>document.all</code>，不符合 JS 标准假值规则）；</li>
<li>其他特性：
<ul>
<li>可能无法访问普通<code>Object</code>的内建方法（如<code>toString()</code>）；</li>
<li>部分属性为只读，无法覆盖；</li>
<li>方法的<code>this</code>无法重绑定到其他对象。</li>
</ul>
</li>
</ul>
</li>
<li><strong>console 对象</strong>：
<ul>
<li>宿主环境提供的输出工具，浏览器中输出到开发控制台，Node.js 中指向标准输出（stdout）和标准错误输出（stderr）。</li>
</ul>
</li>
</ol>
<h3 id="三全局-dom-对象">三、全局 DOM 对象<a hidden class="anchor" aria-hidden="true" href="#三全局-dom-对象">#</a></h3>
<ol>
<li><strong>全局变量与 global 对象</strong>：声明全局变量会同时在全局对象（如浏览器的<code>window</code>）中创建同名属性。</li>
<li><strong>DOM 元素 ID 的副作用</strong>：因浏览器历史遗留问题，带<code>id</code>属性的 DOM 元素会自动创建同名全局变量（如<code>&lt;div id=&quot;app&quot;&gt;</code>会生成<code>window.app</code>）。</li>
</ol>
<h3 id="四原生原型扩展的注意事项">四、原生原型扩展的注意事项<a hidden class="anchor" aria-hidden="true" href="#四原生原型扩展的注意事项">#</a></h3>
<ol>
<li><strong>不建议扩展原生原型</strong>：除非确保无代码冲突（如第三方库可能覆盖扩展方法）。</li>
<li><strong>扩展原则</strong>：扩展原生方法时需添加判断（如<code>if (!Array.prototype.includes) { ... }</code>），避免覆盖已有功能。</li>
<li>polyfill 与 shim：
<ul>
<li><strong>shim</strong>：带兼容性测试的代码，用于填补环境差异（如检查功能是否存在，不存在则提供替代实现）；</li>
<li>polyfill：只检查功能是否存在，不进行兼容性测试</li>
<li><strong>pollyfill</strong>：特殊的 shim，专为实现未被环境支持的标准功能而设计，需与未来标准兼容（如为老浏览器实现<code>Array.prototype.includes</code>）。</li>
</ul>
</li>
</ol>
<h3 id="五script-标签与代码加载">五、script 标签与代码加载<a hidden class="anchor" aria-hidden="true" href="#五script-标签与代码加载">#</a></h3>
<ol>
<li><strong>多文件 / 内联代码的运行特性</strong>：
<ul>
<li>多个<code>script</code>标签（外部文件或内联代码）共享全局对象，在同一命名空间交互，但<strong>全局作用域的提升机制不跨文件边界</strong>（即一个文件的变量不会提升到另一个文件）。</li>
<li>单个<code>script</code>出错会停止自身执行，但不影响后续<code>script</code>运行。</li>
</ul>
</li>
<li><strong>动态创建 script</strong>：通过 JS 动态创建<code>&lt;script&gt;</code>标签并插入 DOM，效果与静态标签一致，可用于动态加载外部文件。</li>
<li><strong>内联代码的特殊限制</strong>：内联代码中不能直接出现<code>&lt;/script&gt;</code>（会被视为代码块结束），变通方法为拆分字符串（如<code>&quot;&lt;sc&quot;+&quot;ript&gt;&quot;</code>）。</li>
<li><strong>字符集差异</strong>：
<ul>
<li>外部文件通过<code>script</code>标签的<code>charset</code>属性指定解析字符集；</li>
<li>内联代码使用所在页面的字符集，且内联<code>script</code>无<code>charset</code>属性。</li>
</ul>
</li>
</ol>
<h3 id="六保留字">六、保留字<a hidden class="anchor" aria-hidden="true" href="#六保留字">#</a></h3>
<ol>
<li>
<p>定义：ES5 规范定义的不可用作变量名的标识符，包括四类：</p>
<ul>
<li>关键字（如<code>if</code>、<code>function</code>）；</li>
<li>预留关键字（如<code>class</code>、<code>enum</code>）；</li>
<li>常量（<code>null</code>、<code>true</code>、<code>false</code>）。</li>
</ul>
</li>
<li>
<p><strong>放宽限制</strong>：ES5 之前，保留字不能作为对象属性名；现在允许（如<code>const obj = { class: 1 }</code>合法）。</p>
</li>
</ol>
<h3 id="七引擎实现的限制">七、引擎实现的限制<a hidden class="anchor" aria-hidden="true" href="#七引擎实现的限制">#</a></h3>
<p>JS 规范未统一限制以下内容，但不同引擎实现存在差异：</p>
<ul>
<li>字符串常量的最大字符数（非字符串值本身）；</li>
<li>函数参数的数据大小（栈大小限制）；</li>
<li>函数声明的参数个数；</li>
<li>未优化的调用栈最大层数（函数调用链长度）；</li>
<li>浏览器中 JS 程序的最长阻塞运行时间（避免页面卡顿）；</li>
<li>变量名的最大长度。</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://example.org/">My New Hugo Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
