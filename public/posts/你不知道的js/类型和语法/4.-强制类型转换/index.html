<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>My New Hugo Site</title>
<meta name="keywords" content="">
<meta name="description" content="一、值类型转换的基本概念

定义与区分：

显式类型转换：主动将值从一种类型转换为另一种（如String(123)）。
隐式强制类型转换：操作中自动发生的类型转换（如1 &#43; &quot;2&quot;）。
特性：JS 强制类型转换始终返回标量基本类型值，对象封装（如new Number(1)）不算严格意义上的强制转换。


与其他语言的差异：

静态类型语言的 “类型转换” 发生在编译阶段；
动态类型语言（如 JS）的 “强制类型转换” 发生在运行时，隐式转换常为操作的副作用。




二、抽象值操作（内部使用的转换规则）
抽象操作是 JS 引擎内部用于类型转换的逻辑，主要包括ToString、ToNumber、ToBoolean。
2.1 ToString（非字符串→字符串）


基本类型转换规则：

null → &quot;null&quot;；undefined → &quot;undefined&quot;；true → &quot;true&quot;；false → &quot;false&quot;。
数字：常规数字直接转换（如123→&quot;123&quot;），极小 / 极大数字用指数形式（如1e-20、1e&#43;20）。



对象 / 数组转换：

普通对象：默认返回内部属性[[Class]]值（如&quot;[object Object]&quot;）；若自定义toString()方法，则调用该方法并使用其返回值。
数组：toString()将所有元素字符串化后用,连接（如[1, 2, 3].toString() → &quot;1,2,3&quot;）。



JSON.stringify () 的特殊处理：


作用：将 JSON 对象序列化为字符串，遵循ToString规则但结果必为字符串。


安全 JSON 值：可被序列化的值（字符串、数字、布尔值、null、数组、符合 JSON 结构的对象）；非安全值（ undefined、function 、symbol、循环引用对象）的处理：

对象中遇到非安全值：自动忽略。
数组中遇到非安全值：返回null（保持数组长度）。
循环引用对象：直接报错。



toJSON()方法：若对象定义了toJSON()，序列化时会先调用该方法，使用其返回的安全值进行序列化（注意：toJSON()应返回安全值，而非字符串）。


可选参数：

replacer（数组 / 函数）：数组时仅序列化数组中指定的属性；函数时对每个属性调用（返回undefined则忽略该属性，否则返回处理后的值）。
space（数字 / 字符串）：指定缩进格式，数字时为每级缩进字符数，字符串时取前 10 个字符作为缩进。





2.2 ToNumber（非数字→数字）

基本类型转换规则：

true → 1；false → 0；undefined → NaN；null → 0。
字符串：遵循数字常量语法，转换失败返回NaN（注意：不处理八进制前缀0，如&quot;012&quot;→12而非10）。


对象 / 数组转换：

先通过ToPrimitive转换为基本类型：优先调用valueOf()（若返回基本类型则使用）；否则调用toString()（若返回基本类型则使用）。
若valueOf()和toString()均不返回基本类型，抛出TypeError。


特殊对象：Object.create(null)创建的对象无valueOf()和toString()，无法强制转换为数字。

2.3 ToBoolean（非布尔值→布尔值）

假值（转换为 false 的值）：undefined、null、false、&#43;0、-0、NaN、&quot;&quot;（空字符串）。
真值：假值列表以外的所有值（如非空字符串、非 0 数字、对象、数组等）。
假值对象：浏览器环境中特殊的 “外来值”，外观类似普通对象，但强制转换为布尔值时为false（如document.all）。

三、显式强制类型转换（主动触发的转换）
3.1 字符串和数字之间的显式转换

通过内建函数：

String(value)：遵循ToString规则，返回字符串基本类型。
Number(value)：遵循ToNumber规则，返回数字基本类型。


通过toString()：

基本类型调用toString()时，JS 引擎会自动创建封装对象，再调用其toString()（如123.toString() → &quot;123&quot;）。


通过一元运算符：

&#43;value：显式将value转换为数字（如&#43;&quot;123&quot; → 123）。
-value：转换为数字并反转符号位（如-&quot;123&quot; → -123）。
注意：避免与其他运算符混用（如a &#43; &#43; b易读性差）。


日期转时间戳：

&#43;new Date()：返回 Unix 时间戳（毫秒），但更推荐Date.now()（当前时间戳）或new Date().getTime()（指定时间戳）。


字位运算符与数字处理：

~x：等同于-(x &#43; 1)，可配合indexOf()判断是否存在（indexOf(-1)时~-1 → 0为假值，其他情况为真值）。
~~x或x | 0：通过ToInt32将数字截为 32 位整数（如~~3.14 → 3）。



3.2 显式解析数字字符串

解析与转换的区别：

解析（如parseInt()、parseFloat()）：从左到右处理，遇到非数字字符停止（如parseInt(&quot;12a3&quot;) → 12）。
转换（如Number()）：字符串必须完全为数字格式，否则返回NaN（如Number(&quot;12a3&quot;) → NaN）。


parseFloat()：解析字符串中的浮点数（如parseFloat(&quot;3.14abc&quot;) → 3.14）。
parseInt()：

仅处理字符串，非字符串会先转为字符串（如parseInt(12.3) → 12，因12.3 → &quot;12.3&quot;）。
第二个参数（基数）：指定转换的进制（10 进制最常用）。ES5 及之前默认基数可能因前缀变化（如0开头视为八进制），ES6 后默认 10 进制，但仍建议显式指定（如parseInt(&quot;12&quot;, 10)）。



3.3 显式转换为布尔值

Boolean(value)：遵循ToBoolean规则（如Boolean(&quot;&quot;) → false）。
!!value：通过两次逻辑非显式转换为布尔值（第一次!反转布尔值，第二次!恢复原值，如!!&quot;abc&quot; → true）。

四、隐式强制类型转换（自动触发的转换）
4.1 字符串和数字之间的隐式转换

&#43;运算符的重载：

若有一个操作数为字符串（或可转为字符串），则执行拼接（如&quot;1&quot; &#43; 2 → &quot;12&quot;）。
否则执行数字加法（如1 &#43; true → 2，因true → 1）。


数字转字符串：value &#43; &quot;&quot;（如123 &#43; &quot;&quot; → &quot;123&quot;），优先调用valueOf()再转字符串。
字符串转数字：通过-0、*1、/1（如&quot;123&quot; - 0 → 123），因这些运算符仅适用于数字。

4.2 隐式转换为布尔值（布尔上下文）
以下场景中，非布尔值会自动通过ToBoolean转换为布尔值：">
<meta name="author" content="">
<link rel="canonical" href="https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/4.-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.36819bea596090d8b48cf10d9831382996197aa7e4fc86f792f7c08c9ca4d23b.css" integrity="sha256-NoGb6llgkNi0jPENmDE4KZYZeqfk/Ib3kvfAjJyk0js=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://example.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://example.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://example.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://example.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://example.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/4.-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/4.-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="My New Hugo Site">
  <meta property="og:description" content="一、值类型转换的基本概念 定义与区分： 显式类型转换：主动将值从一种类型转换为另一种（如String(123)）。 隐式强制类型转换：操作中自动发生的类型转换（如1 &#43; &#34;2&#34;）。 特性：JS 强制类型转换始终返回标量基本类型值，对象封装（如new Number(1)）不算严格意义上的强制转换。 与其他语言的差异： 静态类型语言的 “类型转换” 发生在编译阶段； 动态类型语言（如 JS）的 “强制类型转换” 发生在运行时，隐式转换常为操作的副作用。 二、抽象值操作（内部使用的转换规则） 抽象操作是 JS 引擎内部用于类型转换的逻辑，主要包括ToString、ToNumber、ToBoolean。
2.1 ToString（非字符串→字符串） 基本类型转换规则：
null → &#34;null&#34;；undefined → &#34;undefined&#34;；true → &#34;true&#34;；false → &#34;false&#34;。 数字：常规数字直接转换（如123→&#34;123&#34;），极小 / 极大数字用指数形式（如1e-20、1e&#43;20）。 对象 / 数组转换：
普通对象：默认返回内部属性[[Class]]值（如&#34;[object Object]&#34;）；若自定义toString()方法，则调用该方法并使用其返回值。 数组：toString()将所有元素字符串化后用,连接（如[1, 2, 3].toString() → &#34;1,2,3&#34;）。 JSON.stringify () 的特殊处理：
作用：将 JSON 对象序列化为字符串，遵循ToString规则但结果必为字符串。
安全 JSON 值：可被序列化的值（字符串、数字、布尔值、null、数组、符合 JSON 结构的对象）；非安全值（ undefined、function 、symbol、循环引用对象）的处理：
对象中遇到非安全值：自动忽略。 数组中遇到非安全值：返回null（保持数组长度）。 循环引用对象：直接报错。 toJSON()方法：若对象定义了toJSON()，序列化时会先调用该方法，使用其返回的安全值进行序列化（注意：toJSON()应返回安全值，而非字符串）。
可选参数：
replacer（数组 / 函数）：数组时仅序列化数组中指定的属性；函数时对每个属性调用（返回undefined则忽略该属性，否则返回处理后的值）。 space（数字 / 字符串）：指定缩进格式，数字时为每级缩进字符数，字符串时取前 10 个字符作为缩进。 2.2 ToNumber（非数字→数字） 基本类型转换规则： true → 1；false → 0；undefined → NaN；null → 0。 字符串：遵循数字常量语法，转换失败返回NaN（注意：不处理八进制前缀0，如&#34;012&#34;→12而非10）。 对象 / 数组转换： 先通过ToPrimitive转换为基本类型：优先调用valueOf()（若返回基本类型则使用）；否则调用toString()（若返回基本类型则使用）。 若valueOf()和toString()均不返回基本类型，抛出TypeError。 特殊对象：Object.create(null)创建的对象无valueOf()和toString()，无法强制转换为数字。 2.3 ToBoolean（非布尔值→布尔值） 假值（转换为 false 的值）：undefined、null、false、&#43;0、-0、NaN、&#34;&#34;（空字符串）。 真值：假值列表以外的所有值（如非空字符串、非 0 数字、对象、数组等）。 假值对象：浏览器环境中特殊的 “外来值”，外观类似普通对象，但强制转换为布尔值时为false（如document.all）。 三、显式强制类型转换（主动触发的转换） 3.1 字符串和数字之间的显式转换 通过内建函数： String(value)：遵循ToString规则，返回字符串基本类型。 Number(value)：遵循ToNumber规则，返回数字基本类型。 通过toString()： 基本类型调用toString()时，JS 引擎会自动创建封装对象，再调用其toString()（如123.toString() → &#34;123&#34;）。 通过一元运算符： &#43;value：显式将value转换为数字（如&#43;&#34;123&#34; → 123）。 -value：转换为数字并反转符号位（如-&#34;123&#34; → -123）。 注意：避免与其他运算符混用（如a &#43; &#43; b易读性差）。 日期转时间戳： &#43;new Date()：返回 Unix 时间戳（毫秒），但更推荐Date.now()（当前时间戳）或new Date().getTime()（指定时间戳）。 字位运算符与数字处理： ~x：等同于-(x &#43; 1)，可配合indexOf()判断是否存在（indexOf(-1)时~-1 → 0为假值，其他情况为真值）。 ~~x或x | 0：通过ToInt32将数字截为 32 位整数（如~~3.14 → 3）。 3.2 显式解析数字字符串 解析与转换的区别： 解析（如parseInt()、parseFloat()）：从左到右处理，遇到非数字字符停止（如parseInt(&#34;12a3&#34;) → 12）。 转换（如Number()）：字符串必须完全为数字格式，否则返回NaN（如Number(&#34;12a3&#34;) → NaN）。 parseFloat()：解析字符串中的浮点数（如parseFloat(&#34;3.14abc&#34;) → 3.14）。 parseInt()： 仅处理字符串，非字符串会先转为字符串（如parseInt(12.3) → 12，因12.3 → &#34;12.3&#34;）。 第二个参数（基数）：指定转换的进制（10 进制最常用）。ES5 及之前默认基数可能因前缀变化（如0开头视为八进制），ES6 后默认 10 进制，但仍建议显式指定（如parseInt(&#34;12&#34;, 10)）。 3.3 显式转换为布尔值 Boolean(value)：遵循ToBoolean规则（如Boolean(&#34;&#34;) → false）。 !!value：通过两次逻辑非显式转换为布尔值（第一次!反转布尔值，第二次!恢复原值，如!!&#34;abc&#34; → true）。 四、隐式强制类型转换（自动触发的转换） 4.1 字符串和数字之间的隐式转换 &#43;运算符的重载： 若有一个操作数为字符串（或可转为字符串），则执行拼接（如&#34;1&#34; &#43; 2 → &#34;12&#34;）。 否则执行数字加法（如1 &#43; true → 2，因true → 1）。 数字转字符串：value &#43; &#34;&#34;（如123 &#43; &#34;&#34; → &#34;123&#34;），优先调用valueOf()再转字符串。 字符串转数字：通过-0、*1、/1（如&#34;123&#34; - 0 → 123），因这些运算符仅适用于数字。 4.2 隐式转换为布尔值（布尔上下文） 以下场景中，非布尔值会自动通过ToBoolean转换为布尔值：">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="">
<meta name="twitter:description" content="一、值类型转换的基本概念

定义与区分：

显式类型转换：主动将值从一种类型转换为另一种（如String(123)）。
隐式强制类型转换：操作中自动发生的类型转换（如1 &#43; &quot;2&quot;）。
特性：JS 强制类型转换始终返回标量基本类型值，对象封装（如new Number(1)）不算严格意义上的强制转换。


与其他语言的差异：

静态类型语言的 “类型转换” 发生在编译阶段；
动态类型语言（如 JS）的 “强制类型转换” 发生在运行时，隐式转换常为操作的副作用。




二、抽象值操作（内部使用的转换规则）
抽象操作是 JS 引擎内部用于类型转换的逻辑，主要包括ToString、ToNumber、ToBoolean。
2.1 ToString（非字符串→字符串）


基本类型转换规则：

null → &quot;null&quot;；undefined → &quot;undefined&quot;；true → &quot;true&quot;；false → &quot;false&quot;。
数字：常规数字直接转换（如123→&quot;123&quot;），极小 / 极大数字用指数形式（如1e-20、1e&#43;20）。



对象 / 数组转换：

普通对象：默认返回内部属性[[Class]]值（如&quot;[object Object]&quot;）；若自定义toString()方法，则调用该方法并使用其返回值。
数组：toString()将所有元素字符串化后用,连接（如[1, 2, 3].toString() → &quot;1,2,3&quot;）。



JSON.stringify () 的特殊处理：


作用：将 JSON 对象序列化为字符串，遵循ToString规则但结果必为字符串。


安全 JSON 值：可被序列化的值（字符串、数字、布尔值、null、数组、符合 JSON 结构的对象）；非安全值（ undefined、function 、symbol、循环引用对象）的处理：

对象中遇到非安全值：自动忽略。
数组中遇到非安全值：返回null（保持数组长度）。
循环引用对象：直接报错。



toJSON()方法：若对象定义了toJSON()，序列化时会先调用该方法，使用其返回的安全值进行序列化（注意：toJSON()应返回安全值，而非字符串）。


可选参数：

replacer（数组 / 函数）：数组时仅序列化数组中指定的属性；函数时对每个属性调用（返回undefined则忽略该属性，否则返回处理后的值）。
space（数字 / 字符串）：指定缩进格式，数字时为每级缩进字符数，字符串时取前 10 个字符作为缩进。





2.2 ToNumber（非数字→数字）

基本类型转换规则：

true → 1；false → 0；undefined → NaN；null → 0。
字符串：遵循数字常量语法，转换失败返回NaN（注意：不处理八进制前缀0，如&quot;012&quot;→12而非10）。


对象 / 数组转换：

先通过ToPrimitive转换为基本类型：优先调用valueOf()（若返回基本类型则使用）；否则调用toString()（若返回基本类型则使用）。
若valueOf()和toString()均不返回基本类型，抛出TypeError。


特殊对象：Object.create(null)创建的对象无valueOf()和toString()，无法强制转换为数字。

2.3 ToBoolean（非布尔值→布尔值）

假值（转换为 false 的值）：undefined、null、false、&#43;0、-0、NaN、&quot;&quot;（空字符串）。
真值：假值列表以外的所有值（如非空字符串、非 0 数字、对象、数组等）。
假值对象：浏览器环境中特殊的 “外来值”，外观类似普通对象，但强制转换为布尔值时为false（如document.all）。

三、显式强制类型转换（主动触发的转换）
3.1 字符串和数字之间的显式转换

通过内建函数：

String(value)：遵循ToString规则，返回字符串基本类型。
Number(value)：遵循ToNumber规则，返回数字基本类型。


通过toString()：

基本类型调用toString()时，JS 引擎会自动创建封装对象，再调用其toString()（如123.toString() → &quot;123&quot;）。


通过一元运算符：

&#43;value：显式将value转换为数字（如&#43;&quot;123&quot; → 123）。
-value：转换为数字并反转符号位（如-&quot;123&quot; → -123）。
注意：避免与其他运算符混用（如a &#43; &#43; b易读性差）。


日期转时间戳：

&#43;new Date()：返回 Unix 时间戳（毫秒），但更推荐Date.now()（当前时间戳）或new Date().getTime()（指定时间戳）。


字位运算符与数字处理：

~x：等同于-(x &#43; 1)，可配合indexOf()判断是否存在（indexOf(-1)时~-1 → 0为假值，其他情况为真值）。
~~x或x | 0：通过ToInt32将数字截为 32 位整数（如~~3.14 → 3）。



3.2 显式解析数字字符串

解析与转换的区别：

解析（如parseInt()、parseFloat()）：从左到右处理，遇到非数字字符停止（如parseInt(&quot;12a3&quot;) → 12）。
转换（如Number()）：字符串必须完全为数字格式，否则返回NaN（如Number(&quot;12a3&quot;) → NaN）。


parseFloat()：解析字符串中的浮点数（如parseFloat(&quot;3.14abc&quot;) → 3.14）。
parseInt()：

仅处理字符串，非字符串会先转为字符串（如parseInt(12.3) → 12，因12.3 → &quot;12.3&quot;）。
第二个参数（基数）：指定转换的进制（10 进制最常用）。ES5 及之前默认基数可能因前缀变化（如0开头视为八进制），ES6 后默认 10 进制，但仍建议显式指定（如parseInt(&quot;12&quot;, 10)）。



3.3 显式转换为布尔值

Boolean(value)：遵循ToBoolean规则（如Boolean(&quot;&quot;) → false）。
!!value：通过两次逻辑非显式转换为布尔值（第一次!反转布尔值，第二次!恢复原值，如!!&quot;abc&quot; → true）。

四、隐式强制类型转换（自动触发的转换）
4.1 字符串和数字之间的隐式转换

&#43;运算符的重载：

若有一个操作数为字符串（或可转为字符串），则执行拼接（如&quot;1&quot; &#43; 2 → &quot;12&quot;）。
否则执行数字加法（如1 &#43; true → 2，因true → 1）。


数字转字符串：value &#43; &quot;&quot;（如123 &#43; &quot;&quot; → &quot;123&quot;），优先调用valueOf()再转字符串。
字符串转数字：通过-0、*1、/1（如&quot;123&quot; - 0 → 123），因这些运算符仅适用于数字。

4.2 隐式转换为布尔值（布尔上下文）
以下场景中，非布尔值会自动通过ToBoolean转换为布尔值：">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://example.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "",
      "item": "https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/4.-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "name": "",
  "description": "一、值类型转换的基本概念 定义与区分： 显式类型转换：主动将值从一种类型转换为另一种（如String(123)）。 隐式强制类型转换：操作中自动发生的类型转换（如1 + \u0026quot;2\u0026quot;）。 特性：JS 强制类型转换始终返回标量基本类型值，对象封装（如new Number(1)）不算严格意义上的强制转换。 与其他语言的差异： 静态类型语言的 “类型转换” 发生在编译阶段； 动态类型语言（如 JS）的 “强制类型转换” 发生在运行时，隐式转换常为操作的副作用。 二、抽象值操作（内部使用的转换规则） 抽象操作是 JS 引擎内部用于类型转换的逻辑，主要包括ToString、ToNumber、ToBoolean。\n2.1 ToString（非字符串→字符串） 基本类型转换规则：\nnull → \u0026quot;null\u0026quot;；undefined → \u0026quot;undefined\u0026quot;；true → \u0026quot;true\u0026quot;；false → \u0026quot;false\u0026quot;。 数字：常规数字直接转换（如123→\u0026quot;123\u0026quot;），极小 / 极大数字用指数形式（如1e-20、1e+20）。 对象 / 数组转换：\n普通对象：默认返回内部属性[[Class]]值（如\u0026quot;[object Object]\u0026quot;）；若自定义toString()方法，则调用该方法并使用其返回值。 数组：toString()将所有元素字符串化后用,连接（如[1, 2, 3].toString() → \u0026quot;1,2,3\u0026quot;）。 JSON.stringify () 的特殊处理：\n作用：将 JSON 对象序列化为字符串，遵循ToString规则但结果必为字符串。\n安全 JSON 值：可被序列化的值（字符串、数字、布尔值、null、数组、符合 JSON 结构的对象）；非安全值（ undefined、function 、symbol、循环引用对象）的处理：\n对象中遇到非安全值：自动忽略。 数组中遇到非安全值：返回null（保持数组长度）。 循环引用对象：直接报错。 toJSON()方法：若对象定义了toJSON()，序列化时会先调用该方法，使用其返回的安全值进行序列化（注意：toJSON()应返回安全值，而非字符串）。\n可选参数：\nreplacer（数组 / 函数）：数组时仅序列化数组中指定的属性；函数时对每个属性调用（返回undefined则忽略该属性，否则返回处理后的值）。 space（数字 / 字符串）：指定缩进格式，数字时为每级缩进字符数，字符串时取前 10 个字符作为缩进。 2.2 ToNumber（非数字→数字） 基本类型转换规则： true → 1；false → 0；undefined → NaN；null → 0。 字符串：遵循数字常量语法，转换失败返回NaN（注意：不处理八进制前缀0，如\u0026quot;012\u0026quot;→12而非10）。 对象 / 数组转换： 先通过ToPrimitive转换为基本类型：优先调用valueOf()（若返回基本类型则使用）；否则调用toString()（若返回基本类型则使用）。 若valueOf()和toString()均不返回基本类型，抛出TypeError。 特殊对象：Object.create(null)创建的对象无valueOf()和toString()，无法强制转换为数字。 2.3 ToBoolean（非布尔值→布尔值） 假值（转换为 false 的值）：undefined、null、false、+0、-0、NaN、\u0026quot;\u0026quot;（空字符串）。 真值：假值列表以外的所有值（如非空字符串、非 0 数字、对象、数组等）。 假值对象：浏览器环境中特殊的 “外来值”，外观类似普通对象，但强制转换为布尔值时为false（如document.all）。 三、显式强制类型转换（主动触发的转换） 3.1 字符串和数字之间的显式转换 通过内建函数： String(value)：遵循ToString规则，返回字符串基本类型。 Number(value)：遵循ToNumber规则，返回数字基本类型。 通过toString()： 基本类型调用toString()时，JS 引擎会自动创建封装对象，再调用其toString()（如123.toString() → \u0026quot;123\u0026quot;）。 通过一元运算符： +value：显式将value转换为数字（如+\u0026quot;123\u0026quot; → 123）。 -value：转换为数字并反转符号位（如-\u0026quot;123\u0026quot; → -123）。 注意：避免与其他运算符混用（如a + + b易读性差）。 日期转时间戳： +new Date()：返回 Unix 时间戳（毫秒），但更推荐Date.now()（当前时间戳）或new Date().getTime()（指定时间戳）。 字位运算符与数字处理： ~x：等同于-(x + 1)，可配合indexOf()判断是否存在（indexOf(-1)时~-1 → 0为假值，其他情况为真值）。 ~~x或x | 0：通过ToInt32将数字截为 32 位整数（如~~3.14 → 3）。 3.2 显式解析数字字符串 解析与转换的区别： 解析（如parseInt()、parseFloat()）：从左到右处理，遇到非数字字符停止（如parseInt(\u0026quot;12a3\u0026quot;) → 12）。 转换（如Number()）：字符串必须完全为数字格式，否则返回NaN（如Number(\u0026quot;12a3\u0026quot;) → NaN）。 parseFloat()：解析字符串中的浮点数（如parseFloat(\u0026quot;3.14abc\u0026quot;) → 3.14）。 parseInt()： 仅处理字符串，非字符串会先转为字符串（如parseInt(12.3) → 12，因12.3 → \u0026quot;12.3\u0026quot;）。 第二个参数（基数）：指定转换的进制（10 进制最常用）。ES5 及之前默认基数可能因前缀变化（如0开头视为八进制），ES6 后默认 10 进制，但仍建议显式指定（如parseInt(\u0026quot;12\u0026quot;, 10)）。 3.3 显式转换为布尔值 Boolean(value)：遵循ToBoolean规则（如Boolean(\u0026quot;\u0026quot;) → false）。 !!value：通过两次逻辑非显式转换为布尔值（第一次!反转布尔值，第二次!恢复原值，如!!\u0026quot;abc\u0026quot; → true）。 四、隐式强制类型转换（自动触发的转换） 4.1 字符串和数字之间的隐式转换 +运算符的重载： 若有一个操作数为字符串（或可转为字符串），则执行拼接（如\u0026quot;1\u0026quot; + 2 → \u0026quot;12\u0026quot;）。 否则执行数字加法（如1 + true → 2，因true → 1）。 数字转字符串：value + \u0026quot;\u0026quot;（如123 + \u0026quot;\u0026quot; → \u0026quot;123\u0026quot;），优先调用valueOf()再转字符串。 字符串转数字：通过-0、*1、/1（如\u0026quot;123\u0026quot; - 0 → 123），因这些运算符仅适用于数字。 4.2 隐式转换为布尔值（布尔上下文） 以下场景中，非布尔值会自动通过ToBoolean转换为布尔值：\n",
  "keywords": [
    
  ],
  "articleBody": "一、值类型转换的基本概念 定义与区分： 显式类型转换：主动将值从一种类型转换为另一种（如String(123)）。 隐式强制类型转换：操作中自动发生的类型转换（如1 + \"2\"）。 特性：JS 强制类型转换始终返回标量基本类型值，对象封装（如new Number(1)）不算严格意义上的强制转换。 与其他语言的差异： 静态类型语言的 “类型转换” 发生在编译阶段； 动态类型语言（如 JS）的 “强制类型转换” 发生在运行时，隐式转换常为操作的副作用。 二、抽象值操作（内部使用的转换规则） 抽象操作是 JS 引擎内部用于类型转换的逻辑，主要包括ToString、ToNumber、ToBoolean。\n2.1 ToString（非字符串→字符串） 基本类型转换规则：\nnull → \"null\"；undefined → \"undefined\"；true → \"true\"；false → \"false\"。 数字：常规数字直接转换（如123→\"123\"），极小 / 极大数字用指数形式（如1e-20、1e+20）。 对象 / 数组转换：\n普通对象：默认返回内部属性[[Class]]值（如\"[object Object]\"）；若自定义toString()方法，则调用该方法并使用其返回值。 数组：toString()将所有元素字符串化后用,连接（如[1, 2, 3].toString() → \"1,2,3\"）。 JSON.stringify () 的特殊处理：\n作用：将 JSON 对象序列化为字符串，遵循ToString规则但结果必为字符串。\n安全 JSON 值：可被序列化的值（字符串、数字、布尔值、null、数组、符合 JSON 结构的对象）；非安全值（ undefined、function 、symbol、循环引用对象）的处理：\n对象中遇到非安全值：自动忽略。 数组中遇到非安全值：返回null（保持数组长度）。 循环引用对象：直接报错。 toJSON()方法：若对象定义了toJSON()，序列化时会先调用该方法，使用其返回的安全值进行序列化（注意：toJSON()应返回安全值，而非字符串）。\n可选参数：\nreplacer（数组 / 函数）：数组时仅序列化数组中指定的属性；函数时对每个属性调用（返回undefined则忽略该属性，否则返回处理后的值）。 space（数字 / 字符串）：指定缩进格式，数字时为每级缩进字符数，字符串时取前 10 个字符作为缩进。 2.2 ToNumber（非数字→数字） 基本类型转换规则： true → 1；false → 0；undefined → NaN；null → 0。 字符串：遵循数字常量语法，转换失败返回NaN（注意：不处理八进制前缀0，如\"012\"→12而非10）。 对象 / 数组转换： 先通过ToPrimitive转换为基本类型：优先调用valueOf()（若返回基本类型则使用）；否则调用toString()（若返回基本类型则使用）。 若valueOf()和toString()均不返回基本类型，抛出TypeError。 特殊对象：Object.create(null)创建的对象无valueOf()和toString()，无法强制转换为数字。 2.3 ToBoolean（非布尔值→布尔值） 假值（转换为 false 的值）：undefined、null、false、+0、-0、NaN、\"\"（空字符串）。 真值：假值列表以外的所有值（如非空字符串、非 0 数字、对象、数组等）。 假值对象：浏览器环境中特殊的 “外来值”，外观类似普通对象，但强制转换为布尔值时为false（如document.all）。 三、显式强制类型转换（主动触发的转换） 3.1 字符串和数字之间的显式转换 通过内建函数： String(value)：遵循ToString规则，返回字符串基本类型。 Number(value)：遵循ToNumber规则，返回数字基本类型。 通过toString()： 基本类型调用toString()时，JS 引擎会自动创建封装对象，再调用其toString()（如123.toString() → \"123\"）。 通过一元运算符： +value：显式将value转换为数字（如+\"123\" → 123）。 -value：转换为数字并反转符号位（如-\"123\" → -123）。 注意：避免与其他运算符混用（如a + + b易读性差）。 日期转时间戳： +new Date()：返回 Unix 时间戳（毫秒），但更推荐Date.now()（当前时间戳）或new Date().getTime()（指定时间戳）。 字位运算符与数字处理： ~x：等同于-(x + 1)，可配合indexOf()判断是否存在（indexOf(-1)时~-1 → 0为假值，其他情况为真值）。 ~~x或x | 0：通过ToInt32将数字截为 32 位整数（如~~3.14 → 3）。 3.2 显式解析数字字符串 解析与转换的区别： 解析（如parseInt()、parseFloat()）：从左到右处理，遇到非数字字符停止（如parseInt(\"12a3\") → 12）。 转换（如Number()）：字符串必须完全为数字格式，否则返回NaN（如Number(\"12a3\") → NaN）。 parseFloat()：解析字符串中的浮点数（如parseFloat(\"3.14abc\") → 3.14）。 parseInt()： 仅处理字符串，非字符串会先转为字符串（如parseInt(12.3) → 12，因12.3 → \"12.3\"）。 第二个参数（基数）：指定转换的进制（10 进制最常用）。ES5 及之前默认基数可能因前缀变化（如0开头视为八进制），ES6 后默认 10 进制，但仍建议显式指定（如parseInt(\"12\", 10)）。 3.3 显式转换为布尔值 Boolean(value)：遵循ToBoolean规则（如Boolean(\"\") → false）。 !!value：通过两次逻辑非显式转换为布尔值（第一次!反转布尔值，第二次!恢复原值，如!!\"abc\" → true）。 四、隐式强制类型转换（自动触发的转换） 4.1 字符串和数字之间的隐式转换 +运算符的重载： 若有一个操作数为字符串（或可转为字符串），则执行拼接（如\"1\" + 2 → \"12\"）。 否则执行数字加法（如1 + true → 2，因true → 1）。 数字转字符串：value + \"\"（如123 + \"\" → \"123\"），优先调用valueOf()再转字符串。 字符串转数字：通过-0、*1、/1（如\"123\" - 0 → 123），因这些运算符仅适用于数字。 4.2 隐式转换为布尔值（布尔上下文） 以下场景中，非布尔值会自动通过ToBoolean转换为布尔值：\nif(condition)、for(;condition;)、while(condition)、do...while(condition)中的条件表达式。 三元运算符condition ? a : b中的condition。 逻辑运算符||和\u0026\u0026的左操作数。 ||和\u0026\u0026的特性： 先对左操作数执行ToBoolean转换，再根据结果返回操作数（非布尔值）： a || b：左为真返回a，否则返回b（常用于设置默认值，如a = a || \"default\"）。 a \u0026\u0026 b：左为真返回b，否则返回a（常用于短路执行，如a \u0026\u0026 fn()，fn()仅在a为真时调用）。 4.3 符号（Symbol）的强制类型转换 显式转字符串：允许（如String(Symbol(\"a\")) → \"Symbol(a)\"）。 隐式转字符串：报错（如Symbol(\"a\") + \"\" → 报错）。 转数字：不允许（显式 / 隐式均报错，如Number(Symbol(\"a\")) → 报错）。 转布尔值：始终为真（如!!Symbol(\"a\") → true）。 五、宽松相等（==）与严格相等（===） ===（严格相等）：不允许强制转换，仅当类型相同且值相等时返回true。 ==（宽松相等）：允许强制转换，不同类型时先转换为相同类型再比较。 5.1 抽象相等比较规则 同类型比较： 基本类型：值相同则相等（注意：NaN !== NaN，+0 === -0）。 对象：引用相同则相等（如{} !== {}，因引用不同）。 不同类型比较： 字符串 vs 数字：字符串转为数字后比较（如\"1\" == 1 → true）。 布尔值 vs 其他类型：布尔值转为数字后比较（如true == 1 → true，false == 0 → true）。 null vs undefined：相等（null == undefined → true）；与其他值均不相等（如null == 0 → false）。 对象 vs 字符串 / 数字：对象通过ToPrimitive转换后比较（如[1] == 1 → true，因[1].toString() → \"1\"）。 注意事项： 避免在有true/false的场景使用==（易混淆，如true == \"1\"为true，但逻辑不直观）。 避免在有[]、\"\"、0的场景使用==（如\"\" == 0 → true，[] == 0 → true，逻辑易混淆）。 六、抽象关系比较（\u003e、\u003c、\u003e=、\u003c=） 比较逻辑： 双方先通过ToPrimitive转换为基本类型。 若转换后有非字符串：均转为数字后比较（如[2] \u003e 1 → true，因[2] → \"2\" → 2）。 若均为字符串：按 Unicode 编码顺序比较（如\"a\" \u003c \"b\" → true，\"10\" \u003c \"2\" → true，因比较首字符\"1\" \u003c \"2\"）。 \u003c=和\u003e=的处理：a \u003c= b等价于!(a \u003e b)（先判断a \u003e b，再取反） ",
  "wordCount" : "345",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://example.org/posts/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js/%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95/4.-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My New Hugo Site",
    "logo": {
      "@type": "ImageObject",
      "url": "https://example.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://example.org/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      
    </h1>
    <div class="post-meta">

</div>
  </header> 
  <div class="post-content"><h3 id="一值类型转换的基本概念">一、值类型转换的基本概念<a hidden class="anchor" aria-hidden="true" href="#一值类型转换的基本概念">#</a></h3>
<ol>
<li>定义与区分：
<ul>
<li><strong>显式类型转换</strong>：主动将值从一种类型转换为另一种（如<code>String(123)</code>）。</li>
<li><strong>隐式强制类型转换</strong>：操作中自动发生的类型转换（如<code>1 + &quot;2&quot;</code>）。</li>
<li>特性：JS 强制类型转换始终返回<strong>标量基本类型值</strong>，对象封装（如<code>new Number(1)</code>）不算严格意义上的强制转换。</li>
</ul>
</li>
<li>与其他语言的差异：
<ul>
<li>静态类型语言的 “类型转换” 发生在编译阶段；</li>
<li>动态类型语言（如 JS）的 “强制类型转换” 发生在运行时，隐式转换常为操作的副作用。</li>
</ul>
</li>
</ol>
<hr>
<h2 id="二抽象值操作内部使用的转换规则">二、抽象值操作（内部使用的转换规则）<a hidden class="anchor" aria-hidden="true" href="#二抽象值操作内部使用的转换规则">#</a></h2>
<p>抽象操作是 JS 引擎内部用于类型转换的逻辑，主要包括<code>ToString</code>、<code>ToNumber</code>、<code>ToBoolean</code>。</p>
<h3 id="21-tostring非字符串字符串">2.1 ToString（非字符串→字符串）<a hidden class="anchor" aria-hidden="true" href="#21-tostring非字符串字符串">#</a></h3>
<ul>
<li>
<p>基本类型转换规则：</p>
<ul>
<li><code>null</code> → <code>&quot;null&quot;</code>；<code>undefined</code> → <code>&quot;undefined&quot;</code>；<code>true</code> → <code>&quot;true&quot;</code>；<code>false</code> → <code>&quot;false&quot;</code>。</li>
<li>数字：常规数字直接转换（如<code>123→&quot;123&quot;</code>），极小 / 极大数字用指数形式（如<code>1e-20</code>、<code>1e+20</code>）。</li>
</ul>
</li>
<li>
<p>对象 / 数组转换：</p>
<ul>
<li>普通对象：默认返回内部属性<code>[[Class]]</code>值（如<code>&quot;[object Object]&quot;</code>）；若自定义<code>toString()</code>方法，则调用该方法并使用其返回值。</li>
<li>数组：<code>toString()</code>将所有元素字符串化后用<code>,</code>连接（如<code>[1, 2, 3].toString() → &quot;1,2,3&quot;</code>）。</li>
</ul>
</li>
<li>
<p>JSON.stringify () 的特殊处理：</p>
<ul>
<li>
<p>作用：将 JSON 对象序列化为字符串，遵循<code>ToString</code>规则但结果必为字符串。</p>
</li>
<li>
<p>安全 JSON 值：可被序列化的值（字符串、数字、布尔值、null、数组、符合 JSON 结构的对象）；非安全值（ <code>undefined</code>、<code>function</code> 、<code>symbol</code>、循环引用对象）的处理：</p>
<ul>
<li>对象中遇到非安全值：自动忽略。</li>
<li>数组中遇到非安全值：返回<code>null</code>（保持数组长度）。</li>
<li>循环引用对象：直接报错。</li>
</ul>
</li>
<li>
<p><code>toJSON()</code>方法：若对象定义了<code>toJSON()</code>，序列化时会先调用该方法，使用其返回的安全值进行序列化（注意：<code>toJSON()</code>应返回安全值，而非字符串）。</p>
</li>
<li>
<p>可选参数：</p>
<ul>
<li><code>replacer</code>（数组 / 函数）：数组时仅序列化数组中指定的属性；函数时对每个属性调用（返回<code>undefined</code>则忽略该属性，否则返回处理后的值）。</li>
<li><code>space</code>（数字 / 字符串）：指定缩进格式，数字时为每级缩进字符数，字符串时取前 10 个字符作为缩进。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="22-tonumber非数字数字">2.2 ToNumber（非数字→数字）<a hidden class="anchor" aria-hidden="true" href="#22-tonumber非数字数字">#</a></h3>
<ul>
<li>基本类型转换规则：
<ul>
<li><code>true</code> → <code>1</code>；<code>false</code> → <code>0</code>；<code>undefined</code> → <code>NaN</code>；<code>null</code> → <code>0</code>。</li>
<li>字符串：遵循数字常量语法，转换失败返回<code>NaN</code>（注意：不处理八进制前缀<code>0</code>，如<code>&quot;012&quot;</code>→<code>12</code>而非<code>10</code>）。</li>
</ul>
</li>
<li>对象 / 数组转换：
<ul>
<li>先通过<code>ToPrimitive</code>转换为基本类型：优先调用<code>valueOf()</code>（若返回基本类型则使用）；否则调用<code>toString()</code>（若返回基本类型则使用）。</li>
<li>若<code>valueOf()</code>和<code>toString()</code>均不返回基本类型，抛出<code>TypeError</code>。</li>
</ul>
</li>
<li><strong>特殊对象</strong>：<code>Object.create(null)</code>创建的对象无<code>valueOf()</code>和<code>toString()</code>，无法强制转换为数字。</li>
</ul>
<h3 id="23-toboolean非布尔值布尔值">2.3 ToBoolean（非布尔值→布尔值）<a hidden class="anchor" aria-hidden="true" href="#23-toboolean非布尔值布尔值">#</a></h3>
<ul>
<li><strong>假值（转换为 false 的值）</strong>：<code>undefined</code>、<code>null</code>、<code>false</code>、<code>+0</code>、<code>-0</code>、<code>NaN</code>、<code>&quot;&quot;</code>（空字符串）。</li>
<li><strong>真值</strong>：假值列表以外的所有值（如非空字符串、非 0 数字、对象、数组等）。</li>
<li><strong>假值对象</strong>：浏览器环境中特殊的 “外来值”，外观类似普通对象，但强制转换为布尔值时为<code>false</code>（如<code>document.all</code>）。</li>
</ul>
<h2 id="三显式强制类型转换主动触发的转换">三、显式强制类型转换（主动触发的转换）<a hidden class="anchor" aria-hidden="true" href="#三显式强制类型转换主动触发的转换">#</a></h2>
<h3 id="31-字符串和数字之间的显式转换">3.1 字符串和数字之间的显式转换<a hidden class="anchor" aria-hidden="true" href="#31-字符串和数字之间的显式转换">#</a></h3>
<ul>
<li>通过内建函数：
<ul>
<li><code>String(value)</code>：遵循<code>ToString</code>规则，返回字符串基本类型。</li>
<li><code>Number(value)</code>：遵循<code>ToNumber</code>规则，返回数字基本类型。</li>
</ul>
</li>
<li>通过<code>toString()</code>：
<ul>
<li>基本类型调用<code>toString()</code>时，JS 引擎会自动创建封装对象，再调用其<code>toString()</code>（如<code>123.toString() → &quot;123&quot;</code>）。</li>
</ul>
</li>
<li>通过一元运算符：
<ul>
<li><code>+value</code>：显式将<code>value</code>转换为数字（如<code>+&quot;123&quot; → 123</code>）。</li>
<li><code>-value</code>：转换为数字并反转符号位（如<code>-&quot;123&quot; → -123</code>）。</li>
<li>注意：避免与其他运算符混用（如<code>a + + b</code>易读性差）。</li>
</ul>
</li>
<li>日期转时间戳：
<ul>
<li><code>+new Date()</code>：返回 Unix 时间戳（毫秒），但更推荐<code>Date.now()</code>（当前时间戳）或<code>new Date().getTime()</code>（指定时间戳）。</li>
</ul>
</li>
<li>字位运算符与数字处理：
<ul>
<li><code>~x</code>：等同于<code>-(x + 1)</code>，可配合<code>indexOf()</code>判断是否存在（<code>indexOf(-1)</code>时<code>~-1 → 0</code>为假值，其他情况为真值）。</li>
<li><code>~~x</code>或<code>x | 0</code>：通过<code>ToInt32</code>将数字截为 32 位整数（如<code>~~3.14 → 3</code>）。</li>
</ul>
</li>
</ul>
<h3 id="32-显式解析数字字符串">3.2 显式解析数字字符串<a hidden class="anchor" aria-hidden="true" href="#32-显式解析数字字符串">#</a></h3>
<ul>
<li>解析与转换的区别：
<ul>
<li>解析（如<code>parseInt()</code>、<code>parseFloat()</code>）：从左到右处理，遇到非数字字符停止（如<code>parseInt(&quot;12a3&quot;) → 12</code>）。</li>
<li>转换（如<code>Number()</code>）：字符串必须完全为数字格式，否则返回<code>NaN</code>（如<code>Number(&quot;12a3&quot;) → NaN</code>）。</li>
</ul>
</li>
<li><strong>parseFloat()</strong>：解析字符串中的浮点数（如<code>parseFloat(&quot;3.14abc&quot;) → 3.14</code>）。</li>
<li>parseInt()：
<ul>
<li>仅处理字符串，非字符串会先转为字符串（如<code>parseInt(12.3) → 12</code>，因<code>12.3 → &quot;12.3&quot;</code>）。</li>
<li>第二个参数（基数）：指定转换的进制（10 进制最常用）。ES5 及之前默认基数可能因前缀变化（如<code>0</code>开头视为八进制），ES6 后默认 10 进制，但仍建议显式指定（如<code>parseInt(&quot;12&quot;, 10)</code>）。</li>
</ul>
</li>
</ul>
<h3 id="33-显式转换为布尔值">3.3 显式转换为布尔值<a hidden class="anchor" aria-hidden="true" href="#33-显式转换为布尔值">#</a></h3>
<ul>
<li><code>Boolean(value)</code>：遵循<code>ToBoolean</code>规则（如<code>Boolean(&quot;&quot;) → false</code>）。</li>
<li><code>!!value</code>：通过两次逻辑非显式转换为布尔值（第一次<code>!</code>反转布尔值，第二次<code>!</code>恢复原值，如<code>!!&quot;abc&quot; → true</code>）。</li>
</ul>
<h2 id="四隐式强制类型转换自动触发的转换">四、隐式强制类型转换（自动触发的转换）<a hidden class="anchor" aria-hidden="true" href="#四隐式强制类型转换自动触发的转换">#</a></h2>
<h3 id="41-字符串和数字之间的隐式转换">4.1 字符串和数字之间的隐式转换<a hidden class="anchor" aria-hidden="true" href="#41-字符串和数字之间的隐式转换">#</a></h3>
<ul>
<li><code>+</code>运算符的重载：
<ul>
<li>若有一个操作数为字符串（或可转为字符串），则执行拼接（如<code>&quot;1&quot; + 2 → &quot;12&quot;</code>）。</li>
<li>否则执行数字加法（如<code>1 + true → 2</code>，因<code>true → 1</code>）。</li>
</ul>
</li>
<li><strong>数字转字符串</strong>：<code>value + &quot;&quot;</code>（如<code>123 + &quot;&quot; → &quot;123&quot;</code>），优先调用<code>valueOf()</code>再转字符串。</li>
<li><strong>字符串转数字</strong>：通过<code>-0</code>、<code>*1</code>、<code>/1</code>（如<code>&quot;123&quot; - 0 → 123</code>），因这些运算符仅适用于数字。</li>
</ul>
<h3 id="42-隐式转换为布尔值布尔上下文">4.2 隐式转换为布尔值（布尔上下文）<a hidden class="anchor" aria-hidden="true" href="#42-隐式转换为布尔值布尔上下文">#</a></h3>
<p>以下场景中，非布尔值会自动通过<code>ToBoolean</code>转换为布尔值：</p>
<ul>
<li><code>if(condition)</code>、<code>for(;condition;)</code>、<code>while(condition)</code>、<code>do...while(condition)</code>中的条件表达式。</li>
<li>三元运算符<code>condition ? a : b</code>中的<code>condition</code>。</li>
<li>逻辑运算符<code>||</code>和<code>&amp;&amp;</code>的左操作数。</li>
<li><strong><code>||</code>和<code>&amp;&amp;</code>的特性</strong>：
<ul>
<li>先对左操作数执行<code>ToBoolean</code>转换，再根据结果返回操作数（非布尔值）：
<ul>
<li><code>a || b</code>：左为真返回<code>a</code>，否则返回<code>b</code>（常用于设置默认值，如<code>a = a || &quot;default&quot;</code>）。</li>
<li><code>a &amp;&amp; b</code>：左为真返回<code>b</code>，否则返回<code>a</code>（常用于短路执行，如<code>a &amp;&amp; fn()</code>，<code>fn()</code>仅在<code>a</code>为真时调用）。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="43-符号symbol的强制类型转换">4.3 符号（Symbol）的强制类型转换<a hidden class="anchor" aria-hidden="true" href="#43-符号symbol的强制类型转换">#</a></h3>
<ul>
<li>显式转字符串：允许（如<code>String(Symbol(&quot;a&quot;)) → &quot;Symbol(a)&quot;</code>）。</li>
<li>隐式转字符串：报错（如<code>Symbol(&quot;a&quot;) + &quot;&quot; → 报错</code>）。</li>
<li>转数字：不允许（显式 / 隐式均报错，如<code>Number(Symbol(&quot;a&quot;)) → 报错</code>）。</li>
<li>转布尔值：始终为真（如<code>!!Symbol(&quot;a&quot;) → true</code>）。</li>
</ul>
<h2 id="五宽松相等与严格相等">五、宽松相等（==）与严格相等（===）<a hidden class="anchor" aria-hidden="true" href="#五宽松相等与严格相等">#</a></h2>
<ul>
<li><strong><code>===</code>（严格相等）</strong>：不允许强制转换，仅当类型相同且值相等时返回<code>true</code>。</li>
<li><strong><code>==</code>（宽松相等）</strong>：允许强制转换，不同类型时先转换为相同类型再比较。</li>
</ul>
<h3 id="51-抽象相等比较规则">5.1 抽象相等比较规则<a hidden class="anchor" aria-hidden="true" href="#51-抽象相等比较规则">#</a></h3>
<ul>
<li>同类型比较：
<ul>
<li>基本类型：值相同则相等（注意：<code>NaN !== NaN</code>，<code>+0 === -0</code>）。</li>
<li>对象：引用相同则相等（如<code>{} !== {}</code>，因引用不同）。</li>
</ul>
</li>
<li>不同类型比较：
<ul>
<li>字符串 vs 数字：字符串转为数字后比较（如<code>&quot;1&quot; == 1 → true</code>）。</li>
<li>布尔值 vs 其他类型：布尔值转为数字后比较（如<code>true == 1 → true</code>，<code>false == 0 → true</code>）。</li>
<li><code>null</code> vs <code>undefined</code>：相等（<code>null == undefined → true</code>）；与其他值均不相等（如<code>null == 0 → false</code>）。</li>
<li>对象 vs 字符串 / 数字：对象通过<code>ToPrimitive</code>转换后比较（如<code>[1] == 1 → true</code>，因<code>[1].toString() → &quot;1&quot;</code>）。</li>
</ul>
</li>
<li>注意事项：
<ul>
<li>避免在有<code>true</code>/<code>false</code>的场景使用<code>==</code>（易混淆，如<code>true == &quot;1&quot;</code>为<code>true</code>，但逻辑不直观）。</li>
<li>避免在有<code>[]</code>、<code>&quot;&quot;</code>、<code>0</code>的场景使用<code>==</code>（如<code>&quot;&quot; == 0 → true</code>，<code>[] == 0 → true</code>，逻辑易混淆）。</li>
</ul>
</li>
</ul>
<h2 id="六抽象关系比较">六、抽象关系比较（&gt;、&lt;、&gt;=、&lt;=）<a hidden class="anchor" aria-hidden="true" href="#六抽象关系比较">#</a></h2>
<ul>
<li>比较逻辑：
<ul>
<li>双方先通过<code>ToPrimitive</code>转换为基本类型。</li>
<li>若转换后有非字符串：均转为数字后比较（如<code>[2] &gt; 1 → true</code>，因<code>[2] → &quot;2&quot; → 2</code>）。</li>
<li>若均为字符串：按 Unicode 编码顺序比较（如<code>&quot;a&quot; &lt; &quot;b&quot; → true</code>，<code>&quot;10&quot; &lt; &quot;2&quot; → true</code>，因比较首字符<code>&quot;1&quot; &lt; &quot;2&quot;</code>）。</li>
</ul>
</li>
<li><strong><code>&lt;=</code>和<code>&gt;=</code>的处理</strong>：<code>a &lt;= b</code>等价于<code>!(a &gt; b)</code>（先判断<code>a &gt; b</code>，再取反）</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://example.org/">My New Hugo Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
