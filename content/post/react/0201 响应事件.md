---
# 文章标题
title: 2.1 响应事件
# 文章内容摘要
# description: 本文详细介绍了 Git 这一分布式版本控制系统的优点，对比了 Windows 与 macOS/Linux 系统下的常用命令，讲解了 vim 操作模式及常用命令，还阐述了 Git 的基本配置、特定项目配置和命令缩写设置等内容。
# 文章内容关键字
keywords: React 事件处理函数, React 事件绑定, JSX 事件处理, 内联事件处理函数, React props 事件传递, 父子组件事件通信, 自定义事件处理命名, React 事件传播, 阻止事件传播, stopPropagation, preventDefault, 浏览器默认行为阻止, React 冒泡机制, 事件对象 e, 副作用与事件处理, React state 更新, 组件交互逻辑, React UI 交互, 事件捕获与冒泡, React 点击事件处理
# 发表日期
date: 2025-10-10
summary: 本文介绍了 React 中如何响应事件，包括如何添加事件处理函数、事件传播、阻止传播和阻止默认行为等内容。
# 分类
categories:
  - React文档阅读
# 标签
tags:
  - react
  - 前端框架
  - 前端开发
  - 组件化开发
---

## 添加事件处理函数

如需添加一个事件处理函数：

1. **定义一个函数**。
2. **将其作为 prop 传入** 合适的 JSX 标签。

事件处理函数的特点：

- 通常在组件 **内部** 定义。
- 名称以 `handle` 开头，后跟事件名称。

可以在 JSX 中定义一个 **内联的事件处理函数**，也可以直接使用 **更为简洁的箭头函数**。

当函数体较短时，内联事件处理函数会很方便。

传递给事件处理函数的函数应 **直接传递，而非调用**。如果想定义内联事件处理函数，请将其包装在匿名函数中。

### 在事件处理函数中读取 props

事件处理函数声明于组件内部。因此，它们可以 **直接访问组件的 props**。

### 将事件处理函数作为 props 传递

通常在 **父组件中定义** 子组件的事件处理函数。通过将组件从父组件接收的 prop 作为事件处理函数传递。

### 命名事件处理函数 prop

内置组件（如 `<button>`、`<div>`）仅支持 **浏览器事件名称**。自定义组件的事件处理函数 prop 可以 **自由命名**。

命名惯例：

- 事件处理函数 prop 应以 `on` 开头，后跟一个大写字母。
- 当组件支持多种交互时，可以根据不同的应用程序命名事件处理函数 prop。

确保为事件处理程序使用适当的 HTML 标签。使用浏览器原生的 `<button>` 可启用内置行为（如键盘导航）。如需更改外观，可使用 **CSS** 实现，而非替换为其他标签。

## 事件传播

事件处理函数会捕获来自 **子组件** 的事件。事件沿着树向上“冒泡”或“传播”。

在 React 中，**所有事件都会传播**，**除了 `onScroll`**（仅适用于绑定的 JSX 标签）。

### 阻止传播

事件处理函数接收一个 **事件对象 `e`** 作为唯一参数，该对象可用于读取事件信息。

调用 `e.stopPropagation()` 阻止事件传播。

**传播阶段：**

1. 向下传播。
2. 执行被点击元素的处理函数。
3. 向上传播。

在极少数情况下，可以捕获子元素上的所有事件，即便它们阻止了传播。捕获事件在 **路由或数据分析** 中有用，但通常不用于应用程序代码。

### 传递处理函数作为事件传播的替代方案

可在调用父元素的 `onClick` 前，先执行额外逻辑，这种模式是事件传播的 **替代方案**。

优点：可以清晰追踪某个事件触发后执行的代码链。

当事件传播逻辑难以追踪时，建议使用这种方式。

### 阻止默认行为

某些浏览器事件具有默认行为。可使用事件对象的 `e.preventDefault()` 阻止默认行为。

常用方法：

- [`e.stopPropagation()`](https://developer.mozilla.org/docs/Web/API/Event/stopPropagation)：阻止触发外层事件处理函数。
- [`e.preventDefault()`](https://developer.mozilla.org/docs/Web/API/Event/preventDefault)：阻止默认浏览器行为。

## 事件处理函数可以包含副作用吗？

**可以。**事件处理函数是执行 **副作用** 的最佳位置。

与渲染函数不同，事件处理函数 **不必是纯函数**。它适用于更改某些值，例如：

- 改变输入框的值以响应输入。
- 更改列表以响应按钮触发。

要更改信息，需要一种方式来存储它。在 React 中，这通过 **state（组件的记忆）** 实现。
