---
# 文章标题
title: 3.6 插槽 Slots
# 文章内容摘要
# description:
# 文章内容关键字
keywords: Vue 插槽, slot, 具名插槽, 作用域插槽, 默认插槽, 动态插槽, 条件插槽, 无渲染组件, v-slot 指令, 插槽内容与出口
# 发表日期
date: 2025-04-12
summary: 本文主要介绍了 Vue3 中插槽的使用，包括插槽内容与出口、渲染作用域、默认内容、具名插槽、条件插槽、动态插槽名和作用域插槽等内容。
# 分类
categories:
  - vue3文档阅读
# 标签
tags:
  - vue
  - vue3
  - 前端框架
  - 前端开发
  - 组件化开发
---

## 插槽内容与出口

`<slot>` 元素是一个**插槽出口** (slot outlet)，标示了父元素提供的**插槽内容** (slot content) 将在哪里被渲染。

插槽内容可以是任意合法的模板内容，不局限于文本。可以传入多个元素，甚至是组件。

## 渲染作用域

插槽内容可以访问到父组件的数据作用域，因为插槽内容本身是在父组件模板中定义的。

插槽内容**无法访问**子组件的数据。

Vue 模板中的表达式只能访问其定义时所处的作用域，这和 JavaScript 的词法作用域规则一致。

**换言之：**父组件模板中的表达式只能访问父组件的作用域。子组件模板中的表达式只能访问子组件的作用域。

## 默认内容

在外部没有提供任何内容的情况下，可以为插槽指定默认内容。

**如果我们提供了插槽内容，被显式提供的内容会取代默认内容。**

## 具名插

在一个组件中包含多个插槽出口时，可以为 `<slot>` 元素添加 `name` attribute，用来分配唯一 ID。

带 `name` 的插槽称为**具名插槽 (named slots)**。

没有提供 `name` 的 `<slot>` 出口会隐式地命名为 **default**。

**使用方式：**

1. 为具名插槽传入内容时，需要使用带 `v-slot` 指令的 `<template>` 元素。
2. 将目标插槽的名字传给该指令。
3. `v-slot` 有简写形式：`#`。

**注意：**当组件同时接收默认插槽和具名插槽时：所有位于顶级的非 `<template>` 节点都被隐式地视为默认插槽内容。

## 条件插槽

可以通过 `$slots` 属性与 `v-if` 结合，来根据插槽是否被传入内容进行渲染。

## 动态插槽名

`v-slot` 支持**动态指令参数**。表达式与动态指令参数遵循相同语法限制。

## 作用域插槽

插槽内容可能需要同时使用 **父组件域内** 和 **子组件域内** 的数据，子组件在渲染时，可以将一部分数据提供给插槽。

**实现方式：**

1. 可以像组件传递 props 那样，向插槽出口传递 attributes。
2. 接收插槽 props 时：
   - 默认插槽和具名插槽略有区别。
   - 子组件标签上的 `v-slot` 指令会接收到一个插槽 props 对象。
   - 插槽 props 可作为 `v-slot` 的值在插槽表达式中访问。

**类比：**

- 作用域插槽类似于传入子组件的函数。
- 子组件将 props 作为参数传入。

### 具名作用域插槽

工作方式与默认作用域插槽类似。 插槽 props 可通过 `v-slot:name="slotProps"` 访问。

如果同时使用具名插槽与默认插槽：

- 需要为默认插槽使用显式的 `<template>` 标签。
- 直接为组件添加 `v-slot` 指令会导致编译错误。
- 这是为了避免默认插槽 props 的作用域混淆。

### 无渲染组件

一些组件只包含逻辑，不需要渲染内容，视图输出完全通过作用域插槽交给消费者组件，这种组件称为 **无渲染组件**。

**注意：**

- 大部分无渲染组件的功能可以通过 **组合式 API** 实现。
- 使用组合式 API 更高效，并且避免额外的组件嵌套开销。
