---
# 文章标题
title: 6.1 单文件组件
# 文章内容摘要
# description:
# 文章内容关键字
keywords: Vue 单文件组件, Vue SFC, Vue 模板逻辑样式封装, Vue 组件开发, Vue 编译优化, Vue 组件作用域 CSS, Vue 热更新, Vue SPA, Vue SSG
# 发表日期
date: 2025-04-18
summary: 本文主要介绍了 Vue 单文件组件（SFC）的概念、优点、工作原理以及如何看待关注点分离。通过阅读本文，读者可以了解单文件组件在 Vue 中的重要性，以及如何更好地利用它来提高开发效率和代码质量。
# 分类
categories:
  - vue3文档阅读
# 标签
tags:
  - vue
  - vue3
  - 前端框架
  - 前端开发
  - 组件化开发
---

## 介绍

**定义**：Vue 的单文件组件（Single-File Component，简称 **SFC**，即 `*.vue` 文件）是一种特殊的文件格式。 它允许我们将一个 Vue 组件的 **模板、逻辑与样式** 封装在单个文件中。

**特点**：

- 是 HTML、CSS 和 JavaScript 经典组合的自然延伸。
- 使用 `<template>`、`<script>` 和 `<style>` 三个块在同一文件中封装和组合视图、逻辑、样式。

## 为什么要使用单文件组件

**前提**：使用单文件组件必须依赖构建工具。

**优点**：

- 使用熟悉的 HTML、CSS 和 JavaScript 语法编写模块化的组件。
- 让强相关的关注点自然内聚。
- 预编译模板，避免运行时编译开销。
- 支持 组件作用域的 CSS。
- 组合式 API 下语法更简单。
- 可通过交叉分析模板和逻辑进行更多编译时优化。
- 更好的 IDE 支持，包括自动补全和类型检查。
- 开箱即用的模块热更新 (HMR) 支持。

**推荐使用场景**：

- 单页面应用 (SPA)
- 静态站点生成 (SSG)
- 需要构建步骤以获得更好开发体验 (DX) 的项目

**非推荐场景**：

- 在轻量级场景下，SFC 可能显得过于复杂。
- Vue 也支持无构建步骤的纯 JavaScript 使用方式。
- 如果只需在静态 HTML 中添加简单交互，可以使用 petite-vue（约 6 kB，预优化的 Vue 子集）。

## 单文件组件是如何工作的

**编译**：

- SFC 是框架指定的文件格式。
- 必须由 @vue/compiler-sfc 编译为标准 JavaScript 和 CSS。
- 编译后的 SFC 是标准的 JavaScript (ES) 模块，可以像其他 ES 模块一样导入。

**样式处理**：

- 开发环境：`<style>` 标签会注入为原生 `<style>`，支持热更新。
- 生产环境：样式会被抽取、合并为独立 CSS 文件。

## 如何看待关注点分离？

**关键观点**：

- **前端开发的关注点不是完全基于文件类型分离的**。
- 关注点分离的目标是提高可维护性，而不仅仅是文件类型上的分离。

**现代实践**：

- 与其将代码库拆为三个庞大的层（HTML、CSS、JavaScript 相互交织），不如划分为松散耦合的组件，再按需组合。
- 在一个组件中：模板、逻辑、样式本就是耦合的。将它们放在一起，使组件 **更内聚、更可维护**。
