---
# 文章标题
title: 2.1 创建一个vue应用
# 文章内容摘要
# description:
# 文章内容关键字
keywords: Vue 应用实例，createApp (), mount () 方法，根组件模板，全局资源注册，多应用实例
summary: 本节详细介绍了如何创建一个 Vue 应用实例，包括基本创建方式、应用实例的挂载、应用实例的配置、应用实例的资源注册以及多应用实例的创建。
# 发表日期
date: 2025-04-07
# 分类
categories:
  - vue3文档阅读
# 标签
tags:
  - vue3
  - 前端框架
  - 前端开发
---

## 应用实例的创建（核心入口）

### 基本创建方式

- **核心函数**：`createApp()`（从 `vue` 导入），用于创建 Vue 应用实例
- **语法**：
  ```js
  import { createApp } from "vue";
  // 传入根组件选项，创建应用实例
  const app = createApp({
    /* 根组件选项（如 data、methods、template 等） */
  });
  ```
- **根组件说明**：
  - 传入 `createApp` 的对象是**根组件**（应用的顶层组件），其他组件均为其子组件
  - 若使用单文件组件（SFC），可直接导入根组件：`import App from './App.vue'`，再传入 `createApp(App)`

### 应用的组件结构

- 真实应用通常由**嵌套的、可重用的组件树**组成，根组件是组件树的顶层节点

## 应用实例的挂载（渲染触发）

### 挂载方法：`mount()`

- **作用**：触发应用渲染，需在配置/资源注册完成后调用
- **参数**：接收“容器”（实际 DOM 元素或 CSS 选择器字符串，如 `#app`）
- **语法**：
  ```js
  // 容器为 CSS 选择器（推荐）
  app.mount("#app");
  // 或容器为实际 DOM 元素
  const container = document.getElementById("app");
  app.mount(container);
  ```
- **渲染规则**：
  - 根组件内容渲染到容器元素**内部**，容器本身不算应用的一部分
  - 返回值：根组件实例（非应用实例，与其他资源注册方法返回应用实例不同）

### 根组件模板的来源

| 模板来源               | 适用场景                            | 说明                                                                  |
| ---------------------- | ----------------------------------- | --------------------------------------------------------------------- |
| 根组件 `template` 选项 | 有构建步骤的项目（如 SFC）          | 直接在根组件选项中定义 `template: '<div>内容</div>'`                  |
| 挂载容器的 `innerHTML` | 无构建步骤的项目（如 CDN 引入 Vue） | 当根组件未设置 `template` 时，Vue 自动使用容器的 `innerHTML` 作为模板 |
| 服务器动态生成模板     | 与服务端框架结合（如 SSR）          | 根模板由服务器动态生成，挂载时 Vue 解析容器内的服务端渲染 HTML        |

## 应用实例的配置（`app.config`）

- **作用**：配置应用级选项，如错误处理、全局属性等
- **核心配置示例**：应用级错误处理器（捕获所有子组件错误）
  ```js
  app.config.errorHandler = (err) => {
    /* 错误处理逻辑（如日志上报、用户提示） */
    console.error("应用级错误：", err);
  };
  ```

## 应用实例的资源注册（全局可用）

- **作用**：注册应用范围内可复用的资源（组件、指令等），确保在任意组件中可用
- **核心注册方法**：注册全局组件
  ```js
  // 导入组件
  import TodoDeleteButton from "./TodoDeleteButton.vue";
  // 注册全局组件（组件名 + 组件对象）
  app.component("TodoDeleteButton", TodoDeleteButton);
  ```
- **关键注意**：所有资源注册、应用配置必须在 `app.mount()` 之前完成

## 多应用实例（共存与隔离）

### 多实例创建

- `createApp` 支持在同一页面创建**多个共存的 Vue 应用实例**，每个实例拥有独立的配置和全局资源作用域
- **语法示例**：

  ```js
  // 实例1：挂载到 #app1
  const app1 = createApp({
    /* 组件1选项 */
  });
  app1.mount("#app1");

  // 实例2：挂载到 #app2，独立配置
  const app2 = createApp({
    /* 组件2选项 */
  });
  app2.config.errorHandler = (err) => {
    /* 实例2专属错误处理 */
  };
  app2.mount("#app2");
  ```

### 多实例适用场景

- 用 Vue 增强服务端渲染 HTML 时，无需挂载单个实例到整个页面，而是创建**多个小实例**，分别挂载到需控制的元素上（避免全局干扰）

## 核心注意事项

1. `app.mount()` 必须在配置、资源注册后调用
2. 根组件模板优先级：根组件 `template` 选项 > 容器 `innerHTML`
3. 多实例间配置、资源完全隔离，互不影响
4. 挂载后容器本身不属于应用内容，仅其内部渲染根组件内容
