---
# 文章标题
title: 2.2 模板语法
# 文章内容摘要
# description:
# 文章内容关键字
keywords: Vue 模板语法, Vue 数据绑定, Vue v-bind 指令, Vue v-html 指令, Vue Mustache 语法, Vue 表达式, Vue 指令参数, Vue 修饰符, Vue 模板编译, Vue XSS 安全
# 发表日期
date: 2025-04-10
summary: 本文主要介绍了 Vue 模板语法，包括文本插值、原始 HTML、属性绑定、使用 JavaScript 表达式、指令等。
# 分类
categories:
  - vue3文档阅读
# 标签
tags:
  - vue
  - vue3
  - 前端框架
  - 前端开发
---

Vue 使用基于 HTML 的模板语法，使我们能够声明式地将组件实例的数据绑定到 DOM 上。所有 Vue 模板都是语法层面合法的 HTML，可以被标准浏览器和 HTML 解析器解析。

Vue 会将模板编译为高度优化的 JavaScript 代码，结合响应式系统，能够智能推导需要重新渲染的组件，并尽量减少 DOM 操作。

如果你熟悉虚拟 DOM 并偏好使用 JavaScript，可以使用可选的 JSX 支持来手写渲染函数。但请注意，手写渲染函数将不会享受模板同等级别的编译时优化。

## 文本插值

最基本的数据绑定形式是 **文本插值**，使用双大括号（Mustache 语法）

```vue
<span>Message: {{ msg }}</span>
```

- 双大括号会被替换为组件实例中 `msg` 属性的值。
- 每次 `msg` 改变时，会自动同步更新视图。

## 原始 HTML

双大括号将数据作为纯文本处理，而不是 HTML。如果需要插入 HTML，请使用 `v-html` 指令：

```vue
<p>Using v-html directive: <span v-html="rawHtml"></span></p>
```

- `v-html` 指令会将元素的 `innerHTML` 与组件的 `rawHtml` 属性保持同步，插值为纯 HTML，数据绑定将会被忽略。
- 你不能使用 `v-html` 来拼接组合模板，因为 Vue 不是一个基于字符串的模板引擎。在使用 Vue 时，应当使用组件作为 UI 重用和组合的基本单元。
- 请谨慎使用 `v-html`，因为它容易导致 **XSS 漏洞**，**仅在内容安全可信时使用**，并且 **永远不要使用用户提供的 HTML 内容**。

## Attribute 绑定

双大括号不能在 HTML attributes 中使用。响应式绑定一个 attribute，应使用`v-bind` 指令。`v-bind` 也有简写语法：

```vue
<div v-bind:id="dynamicId"></div>
<div :id="dynamicId"></div>
<div :id></div>
```

如果绑定的值是 `null` 或 `undefined`，该 attribute 将被从渲染的元素中移除。

### 布尔型 Attribute

布尔型 attribute 根据其真值（truthy）和假值（falsy）来决定是否存在。例如：

```vue
<button :disabled="isButtonDisabled">Button</button>
```

当 `isButtonDisabled` 为真值时，`disabled` attribute 会被添加到按钮元素中，否则会被移除。

### 动态绑定多个值

通过 `v-bind` 可以将一个包含多个属性的 JavaScript 对象绑定到元素

```vue
<div v-bind="objectOfAttrs"></div>
```

```js
const objectOfAttrs = {
  id: "container",
  class: "wrapper",
  style: "background-color:green",
};
```

## 使用 JavaScript 表达式

Vue 模板支持完整的 JavaScript 表达式。模板内的表达式会在当前组件实例的作用域中解析执行。

在 Vue 模板内，JavaScript 表达式可以被使用在如下场景上：

- 在文本插值中 (双大括号)
- 在任何 Vue 指令 (以 `v-` 开头的特殊 attribute) attribute 的值中

### 仅支持表达式

每个绑定只能使用 **单一表达式**，即一段能够被求值的 JavaScript 代码。

### 调用函数

可以在表达式中调用组件暴露的函数。注意，表达式中的函数在组件更新时会被重新调用，因此 **不应产生副作用**（如修改数据或触发异步操作）。

### 受限的全局访问

模板内的表达式只能访问一部分全局对象（如 `Math` 和 `Date`）。其他全局对象（如 `window` 上的属性）不可访问，但可以通过 `app.config.globalProperties` 显式添加。

## 指令

Vue 指令是带有 `v-` 前缀的特殊 attribute。指令会在其表达式的值变化时响应式地更新 DOM。

### 参数 Arguments

有些指令需要一个 **参数**，通过冒号 `:` 分隔

### 动态参数

指令的参数也可以是 JavaScript 表达式，使用方括号包围

#### 动态参数值的限制

动态参数中的表达式值应是一个字符串或 `null`。非字符串值会触发警告。

#### 动态参数语法的限制

动态参数中不能包含空格或引号。

如果你需要传入一个复杂的动态参数，我们推荐使用计算属性替换复杂的表达式

当使用 DOM 内嵌模板时，我们需要避免在名称中使用大写字母，因为浏览器会强制将其转换为小写。单文件组件内的模板**不**受此限制。

### 修饰符 Modifiers

指令可以带有 **修饰符**，通过点（`.`）来标识，修饰符用于指令绑定的特殊方式。
