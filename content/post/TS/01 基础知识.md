---
# 文章标题
title: 1. 基础知识
# 文章内容摘要
# description:
# 文章内容关键字
keywords: JavaScript, TypeScript, 类型系统, 动态类型, 静态类型, 类型检查, tsc, 类型注解, 类型推断, 类型擦除, 编译器, 严格模式, noImplicitAny, strictNullChecks, ECMAScript, 降级编译, 工具类型, 运行时错误, 编译错误, 静态分析
# 发表日期
date: 2025-07-20
summary: 本文介绍 TypeScript 的基础知识，包括 JavaScript 与类型系统、静态类型检查、非异常失败、工具类型、tsc 编译器、显式类型、已擦除类型、降级、严格性等。
# 分类
categories:
  - typescript文档阅读
# 标签
tags:
  - TypeScript
  - 前端开发
---

## JavaScript 与类型系统

**每个值都有一组行为**，可以通过运行不同的操作观察这些行为。JavaScript 运行时根据值的 **类型** 来决定执行的操作。

对于原始类型（如 `string`、`number`），可使用 `typeof` 运算符识别。对于函数等复杂类型，**没有运行时机制**可识别其类型。

在纯 JavaScript 中，了解函数如何处理特定值的唯一方法是 **调用它并观察结果**。这种特性导致在代码运行前 **难以预测行为**。

**类型** 是描述哪些值可以传递给函数、哪些值会导致崩溃的概念。

JavaScript 提供的是 **动态类型系统** —— 运行代码才能看到结果。**静态类型系统** 则能在代码运行 _之前_ 预测执行行为。

## 静态类型检查

目的

- 帮助在运行代码 _之前_ 发现错误。
- TypeScript 通过描述运行时值的形状与行为，提前检测潜在异常。

问题背景

- 运行时错误被视为 bug。
- 测试不足或重构复杂时，错误难以发现或修复。

## 非异常失败

JavaScript 遵循 **ECMAScript 规范**，在遇到意外情况时会定义特定行为。

静态类型系统需自行决定哪些代码应被视为错误，即使这些代码在 JavaScript 中是“合法”的。

TypeScript 的目标是捕获合法 bug，如：拼写错误，未调用的函数，基本逻辑错误

## 工具类型

TypeScript 不仅能捕获错误，还能 **防止错误的发生**。

类型检查器可以：

- 检查属性访问是否正确；
- 提供属性建议；
- 提供代码补全与错误提示。

支持 TypeScript 的编辑器还提供：

- 快速修复
- 重构
- 跳转定义
- 查找引用

## `tsc`，TypeScript 编译器

安装

```bash
npm install -g typescript
```

编译

```bash
tsc hello.ts
```

- 若无类型错误，**无输出**（表示无问题）。
- 生成对应的 `hello.js` 文件，代码清晰且保留注释。

## 发出错误

若存在类型检查错误，命令行会显示错误信息，但仍会生成 `hello.js`。

TypeScript 假设 **开发者比编译器更了解代码意图**。

可使用 `noEmitOnError` 参数让编译器在错误时不生成输出文件。

## 显式类型

```ts
function greet(person: string, date: Date) {
  console.log(`Hello ${person}, today is ${date.toDateString()}!`);
}
```

在 `person` 和 `date` 上添加 **类型注解** 描述可接受的值。

TypeScript 可检测错误调用情况。

类型注解可省略，编译器能 **推断类型**。

## 已擦除类型

类型注解不是 JavaScript 的一部分，运行前会被编译器 **移除**。

**类型注释不会改变程序运行时行为**。

## 降级

模板字符串（反引号）会被转换为普通字符串拼接形式。

TypeScript 可将新版本 ECMAScript 降级为旧版本。

默认目标是 **ES5**，可通过 `--target es2015` 修改为更新版本。

除需兼容旧浏览器外，大多数开发者可使用 **ES2015 或更高版本**。

## 严格性

TypeScript 可提供 **宽松或严格** 的类型体验。

宽松模式下：

- 类型可选；
- 推断最宽泛类型；
- 不强制检查 `null` / `undefined`。

严格模式下：

- 更全面的检查；
- 更准确的工具支持；
- 适用于新项目。

可在 CLI 中使用 `--strict` 或在 `tsconfig.json` 中设置 `"strict": true`。

启用后会打开所有严格检查项。

### `noImplicitAny`

- 防止变量被隐式推断为 `any`。
- 启用后会对隐式 `any` 发出错误。

### `strictNullChecks`

- 默认情况下，`null` 和 `undefined` 可赋给任何类型。
- 启用后，需显式处理 `null` 和 `undefined`，以减少 bug。
