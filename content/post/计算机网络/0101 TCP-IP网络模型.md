---
# 文章标题
title: 1.1 TCP/IP 网络模型
# 文章内容摘要
# description:
# 文章内容关键字
keywords: 进程间通信方式, 网络通信, 网络协议分层结构, 应用层, 传输层, TCP, UDP, 网络层, IP协议, IPv4地址, 子网掩码, 路由与寻址, 网络接口层, 链路层, MAC地址, ARP协议, 数据封装过程, TCP段, 数据帧, MTU, MSS, 网络分层模型
# 发表日期
date: 2025-09-17
summary: 本节详细介绍了 TCP/IP 网络模型，包括应用层、传输层、网络层和网络接口层，以及它们的作用和功能。
# 分类
categories:
  - 计算机网络
# 标签
tags:
  - 计算机基础
  - 计算机网络
---

**同一台设备上的进程间通信方式**：管道、消息队列、共享内存、信号

**不同设备上的进程间通信**：需要通过网络通信实现。

**网络协议的设计目标**：兼容多种类型的设备；通过**分层结构**定义不同层的作用与职责。

## 应用层

**最上层**，也是用户能够直接接触到的一层。

当两个不同设备的应用需要通信时，应用将应用数据传递给下一层（传输层）

应用层**只专注于为用户提供应用功能**，**无需关心数据如何传输**。

应用层运行于操作系统的用户态。传输层及以下运行于操作系统的内核态。

## 传输层

**为应用层提供网络支持**。负责将应用层的数据打包并传输给目标主机的指定应用。

在传输层会有两个传输协议，分别是 TCP 和 UDP。

主要协议：

- **TCP（传输控制协议）**：提供**可靠传输**；具有**流量控制**、**超时重传**、**拥塞控制**等特性；多数应用（如 HTTP）使用 TCP。
- **UDP（用户数据报协议）**：**不保证可靠性**；仅负责发送数据包；**实时性高**、**效率高**；可靠性可在应用层自行实现。

当传输层的数据包大小超过 **MSS（TCP 最大报文段长度）**，数据会被拆分成多个分块。每个分块称为一个 **TCP 段（TCP Segment）**。若其中一个分块丢失，只需重传该分块。

设备上可能有多个应用在传输数据，**端口号** 用于区分不同应用：

- 80 端口 → Web 服务器；
- 22 端口 → 远程登录服务器；
- 浏览器的每个标签页 → 独立进程，分配临时端口号。

报文携带端口号，使接收方能识别出目标应用。

## 网络层

负责**不同网络之间的数据传输与路由选择**。

常用协议：**IP 协议**。

数据封装过程：

1. 传输层报文作为数据部分；
2. 加上 IP 包头组装成 IP 报文；
3. 若 IP 报文大小超过 **MTU（以太网中通常为 1500 字节）**，则进行分片。

**IPv4 地址**：32 位，分为 4 段（如 192.168.100.1）。

**作用**：区分不同设备；实现寻址与路由。

IP 地址结构：

- **网络号**：标识该地址所属的子网；
- **主机号**：标识同一子网下的不同主机；
- **子网掩码**：辅助计算网络号与主机号。

地址：`10.100.122.0/24`， `/24` 表示子网掩码为 `255.255.255.0`。

IP 地址与子网掩码按位与 → 网络号；

子网掩码取反后与 IP 地址按位与 → 主机号。

寻址过程：先匹配网络号（确定子网）；再匹配主机号（确定主机）。

**寻址**：确定目标地址所属的子网；

**路由**：决定数据包下一跳的路径。

实际通信中，数据通过多个网关、路由器、交换机等节点；路由算法决定下一步转发方向。

**类比**：

- 寻址：确定目的地；
- 路由：选择通往目的地的路径。

## 网络接口层（链路层）

负责**在物理网络上传输原始数据包**，为网络层提供**链路级别的传输服务**；

工作于**网卡层级**，使用 **MAC 地址** 标识网络中的设备。

数据封装过程：在 IP 头部前添加 **MAC 头部**，封装成 **数据帧（Data Frame）**，发送到物理网络。

以太网：用于连接局域网内的设备

MAC 头部包含：接收方 MAC 地址和发送方 MAC 地址；

通过 **ARP 协议** 获取目标 MAC 地址。

所以说，网络接口层主要为网络层提供「链路级别」传输的服务，负责在以太网、WiFi 这样的底层网络上发送原始数据包，工作在网卡这个层次，使用 MAC 地址来标识网络上的设备。

|    层级    |        数据单位        |
| :--------: | :--------------------: |
| 网络接口层 |      帧（Frame）       |
|   网络层   |      包（Packet）      |
|   传输层   |     段（Segment）      |
|   应用层   | 消息 / 报文（Message） |

这些名词本质上可统称为“数据包”。
