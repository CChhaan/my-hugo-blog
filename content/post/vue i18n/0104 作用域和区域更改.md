---
# 文章标题
title: 1.4 作用域和区域更改
# 文章内容摘要
# description:
# 文章内容关键字
keywords: Vue I18n, Vue 国际化, Vue I18n 作用域, Vue I18n 全局作用域, Vue I18n 局部作用域, Vue I18n locale 切换, Vue I18n 语言切换, Vue I18n i18n.global, Vue I18n this.$i18n, Vue I18n 资源管理, Vue I18n 多语言设置, Vue I18n scope 区别, Vue I18n sync 配置, Vue I18n createI18n
# 发表日期
date: 2025-05-11
summary: 本文介绍了 Vue I18n 的作用域和区域更改，包括全局作用域和局部作用域的概念，以及如何通过 `$i18n.locale` 属性进行语言区域的切换。
# 分类
categories:
  - Vue I18n
# 标签
tags:
  - vue
  - i18n
  - 前端开发
---

## 作用域

Vue I18n 管理资源以提供国际化功能，包括：

- 地区切换
- 每种语言的消息（称为地区消息）
- 日期时间和数字的命名格式

这些资源通过 **VueI18n 实例** 进行管理。

Vue 应用由树状结构中的组件构建。要在 Vue I18n 中实现组件的本地化，需要理解 **作用域（scope）** 的概念。

Vue I18n 有两种作用域：全局作用域、 局部作用域

### 全局作用域

全局作用域允许访问和管理应用中**所有组件**的国际化资源。

使用 `createI18n` 创建 i18n 实例时，会**自动创建全局作用域**。

全局作用域与 **VueI18n 实例绑定**，可通过 `i18n.global` 属性访问。

如果组件中**未指定 i18n 选项**，则会自动启用全局作用域。

在组件中通过 `this.$i18n` 访问的 VueI18n 实例 ≡ 通过 `i18n.global` 属性访问的全局实例。

### 局部作用域

局部作用域允许**按组件管理 i18n 资源**，类似于 `<style scoped>` 的工作方式。

当组件具有局部作用域时，**仅该组件的 i18n 资源生效**。

通过在组件中指定 **i18n 选项** 启用局部作用域。

初始化时会创建一个新的 **VueI18n 实例**。

在局部作用域中通过 `this.$i18n` 访问的实例 ≠ 通过 `i18n.global` 访问的全局实例。

## 区域变更

### 全局作用域

若要为整个应用程序变更语言区域，可在任意组件中使用 `$i18n.locale`。

```vue
<template>
  <div class="locale-changer">
    <select v-model="$i18n.locale">
      <option
        v-for="locale in $i18n.availableLocales"
        :key="`locale-${locale}`"
        :value="locale"
      >
        {{ locale }}
      </option>
    </select>
  </div>
</template>
```

### 本地作用域

本地作用域的 `locale` 默认**继承自全局作用域**，当全局作用域的 `locale` 变化时，本地作用域也随之变化。

若要切换整个应用的语言环境，需通过 `createI18n` 创建的 **i18n 实例的 global 属性** 进行更改。

若不想继承全局作用域，将组件的 **i18n 选项的 `sync` 设置为 false**。

注意事项：

- 更改本地作用域的 `locale` **不会影响全局作用域**。
- 本地作用域组件中更改 `$i18n.locale` 仅影响该组件。
- 若要修改全局设置，请使用 `$root.$i18n.locale`。

```js
const i18n = createI18n({
  locale: "ja", // set current locale
  // vue-i18n something options here ...
  // ...
});

// create Vue app instance, install Vue I18n, and mount!
createApp({
  // something vue options here ...
  // ...
})
  .use(i18n)
  .mount("#app");

// change locale via `global` property

// when vue-i18n is being used with legacy: false, note that i18n.global.locale is a ref, so we must set it via .value:
i18n.global.locale.value = "en";

// otherwise - when using legacy: true, we set it like this:
i18n.global.locale = "en";
```
