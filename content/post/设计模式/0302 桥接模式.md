---
# 文章标题
title: 3.2 桥接模式
# 文章内容摘要
# description: 本文详细介绍了 Git 这一分布式版本控制系统的优点，对比了 Windows 与 macOS/Linux 系统下的常用命令，讲解了 vim 操作模式及常用命令，还阐述了 Git 的基本配置、特定项目配置和命令缩写设置等内容。
# 文章内容关键字
keywords: 桥接模式, Bridge Pattern, 结构型设计模式, 抽象与实现分离, 抽象层 实现层, 多维度扩展, 大类拆分, 组合优于继承, 运行时切换实现, 平台无关设计, 实现接口, 精确抽象, GUI 与操作系统 API, 设计模式 优缺点, 桥接模式 应用场景, 桥接模式 实现步骤
# 发表日期
date: 2025-11-03
summary: 本节详细介绍了桥接模式的设计原则、模式结构、实现方式、优缺点以及适合应用场景等内容。
# 分类
categories:
  - 设计模式
# 标签
tags:
  - 设计模式
---

## 定义

**桥接模式**是一种结构型设计模式，可将一个大类或一系列紧密相关的类拆分为**抽象**和**实现**两个独立的层次结构，从而可分别开发。

## 解决方案

桥接模式将继承改为组合，抽取其中一个维度成为独立类层次，通过在初始类中引用该层次对象避免类包含全部状态和行为。

**抽象部分（接口）**：高阶控制层，不完成具体工作，将任务委派给实现部分。

_注意：与编程语言中的接口或抽象类无关。_

**实现部分（平台）**：完成底层实际工作。

实际示例说明：

- 抽象部分：GUI 层

- 实现部分：操作系统 API

- 扩展方向：

  - 开发多种 GUI （例如面向普通用户和管理员进行分别配置）

  - 支持多种 API （例如， 能够在 Windows、 Linux 和 macOS 上运行该程序）。

代码混乱时会有大量条件语句处理不同 GUI 与 API 组合。小改动也需理解整个代码结构。简单将 GUI–API 组合分类会产生指数级类数量。

**桥接模式**将类拆分为两个层级：

- 抽象部分： 程序的 GUI 层。
- 实现部分： 操作系统的 API。

抽象对象控制程序的外观， 并将真实工作委派给连入的实现对象。 不同的实现只要遵循相同的接口就可以互换。

最后的结果是： GUI 不需改动即可更换 API，新增操作系统只需创建实现子类。

## 模式结构

**抽象部分**：提供高层控制逻辑。依赖实现对象完成实际工作。

**实现部分**：声明所有具体实现通用接口。通常只提供原语操作；抽象部分基于此构建复杂行为。

**具体实现**：包含平台相关代码。

**精确抽象**：提供控制逻辑的变体。通过实现接口与不同实现交互。

**客户端**：只关心与抽象部分合作。必须将实现对象与抽象对象连接。

## 细节说明

*抽象部分*管理一个指向*实现部分*对象的引用，并将工作委托给它。

两者接口可完全不同。实现部分只定义原语操作；抽象部分基于其提供更高层次操作。

## 适合应用场景

- **拆分或重组一个具有多重功能的庞杂类**

适用于有多重功能的大类。使维护更容易、风险更低。

- **在多个独立维度上扩展类**

桥接建议将每个扩展维度抽象为一个类层次结构。初始类将任务委派给各层次对象。

- **运行时切换不同实现**

可通过替换成员变量的实现对象实现切换。

_设计模式可用于沟通意图与解决问题。_

## 实现方式

1. 明确类中的独立维度（如抽象/平台、前端/后端等）。
2. 根据业务需求在抽象基类中定义逻辑。
3. 识别所有平台都需执行的业务，并在实现接口中声明。
4. 为所有平台创建实现类，遵循实现接口。
5. 抽象类添加指向实现类型的引用，将工作委派给它。
6. 若高层逻辑有多个变体，扩展抽象基类创建精确抽象。
7. 客户端需将实现对象传递给抽象对象构造函数，之后只与抽象对象交互。

## 优缺点

优点：

- **创建与平台无关的类与程序。**
- **客户端只与高层抽象交互。**
- **开闭原则：**抽象和实现可独立扩展。
- **单一职责原则：**抽象处理高层逻辑，实现负责平台细节。

缺点：在高内聚场景使用会使代码更复杂。
