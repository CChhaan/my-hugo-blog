---
title: "第二章 Js语法"
date: 2025-08-20T19:49:53
draft: false
---

### 一、语法

#### 1. 变量

- **定义**：变量是存储可变值的容器，将值存入变量的操作称为**赋值**。
- 声明与赋值：
  - JS 中，未声明的变量赋值时会自动声明（不推荐，易导致全局污染）。
  - 可一次性声明多个变量：`var a, b, c;`。
  - 可在声明时赋值：`var x = 10, y = "hello";`。
- 命名规则：
  - 区分大小写（`name` 与 `Name` 是不同变量）。
  - 允许包含字母、数字、`$`、`_`，但**不能以数字开头**，不能包含空格或标点符号（`$` 除外）。
  - 长变量名可读性优化：
    - 下划线命名法：`user_name`；
    - 驼峰命名法：`userName`（第二个单词起首字母大写）。
- **字面量**：直接在代码中写出的数据（如 `123`、`"abc"`、`true`）。

#### 2. 数据类型

- **弱类型特性**：JS 是弱类型语言，无需声明变量类型，可随时修改变量的类型（与强类型语言需显式声明类型不同）。
  - **字符串**：
    - 由零个或多个字符组成，需用单引号（`'`）或双引号（`"`）包裹。
    - 引号选择规则：字符串包含双引号时用单引号包裹（如 `'He said "Hi"'`），反之亦然。
    - 转义字符：用反斜线（`\`）转义特殊字符，如 `\"` 表示双引号（`"She said \"Hello\""`）。
  - **数值**：
    - 支持整数（如 `42`）和浮点数（如 `3.14`），可带正负号（如 `-5`、`-2.7`）。
  - **布尔值**：
    - 仅两个值：`true`（真）和 `false`（假），**不可用引号包裹**（否则为字符串）。

#### 3. 数组

- **定义**：用一个变量存储一组值（元素），元素可通过**下标**访问（下标从 `0` 开始）。
- **声明与初始化**：
  - 用 `Array` 关键字：`var arr = new Array();` 或 `var arr = new Array(3);`（指定初始长度，可选）。
  - 简洁语法（推荐）：`var arr = [1, "a", true];`（直接用方括号包裹元素，元素类型可混合）。
- **元素操作**：
  - 赋值：`arr[0] = 10;`（通过下标赋值）。
  - 嵌套数组：数组元素可是另一个数组（如 `var nested = [1, [2, 3]];`）。
- **关联数组**：
  - 用字符串作为下标（如 `arr["name"] = "Alice"`），本质是为数组对象添加属性。
  - 注意：不推荐修改 `Array` 对象的属性，如需键值对存储，建议使用**对象**。

#### 4. 对象

- **定义**：由**属性**（变量）和**方法**（函数）组成的集合，通过属性名而非下标访问元素。
- 声明与初始化：
  - 用 `Object` 关键字：`var obj = new Object();`。
  - 简洁语法（推荐）：`var obj = { name: "Bob", age: 20 };`（花括号包裹键值对，键值用 `:` 分隔，键值对间用 `,` 分隔）。
- **属性访问**：用点语法（`obj.name`）或方括号（`obj["name"]`）。
- **特性**：属性值可以是任意类型（包括其他对象），适合通过名称而非位置管理数据。

### 二、操作

#### 1. 算术操作符

- 基础操作符：
  - 加法（`+`）、减法（`-`）、乘法（`*`）、除法（`/`）。
  - 可组合操作，用括号改变优先级（如 `(2 + 3) * 4`）。
- 快捷操作符：
  - 自增（`++`）：`x++` 等价于 `x = x + 1`。
  - 自减（`--`）：`x--` 等价于 `x = x - 1`。
  - 复合赋值（`+=`）：`x += 5` 等价于 `x = x + 5`，也可用于字符串拼接（`str += "world"`）。
- 字符串拼接：
  - `+` 可拼接字符串（如 `"Hello" + " " + "World"`）。
  - 数值与字符串拼接时，数值自动转为字符串（如 `123 + "abc"` 结果为 `"123abc"`）。

### 三、条件语句

#### 1. 基本语法

- if 语句：当条件为true时执行代码块：

  ```js
  if (condition) {
    // 条件为真时执行
  }
  ```

  - 若代码块仅一条语句，可省略花括号（不推荐，易出错）。

- if...else 语句：条件为false时执行 else 代码块：

  ```js
  if (condition) {
    // 条件为真
  } else {
    // 条件为假
  }
  ```

#### 2. 比较操作符

- 用于条件判断，返回布尔值：
  - 大于（`>`）、小于（`<`）、大于等于（`>=`）、小于等于（`<=`）。
  - 相等（`==`）：仅比较值（自动类型转换，如 `5 == "5"` 为 `true`）。
  - 全等（`===`）：严格比较（值和类型均相同，如 `5 === "5"` 为 `false`）。
  - 不等（`!=`）、严格不等（`!==`）：与上述对应，返回相反结果。

#### 3. 逻辑操作符

- 组合多个条件：
  - 逻辑与（`&&`）：两边均为 `true` 时结果为 `true`（如 `a > 0 && b > 0`）。
  - 逻辑或（`||`）：至少一边为 `true` 时结果为 `true`（如 `a > 0 || b > 0`）。
  - 逻辑非（`!`）：取反（如 `!true` 为 `false`）。

### 四、循环语句

- **作用**：重复执行代码块，直到条件不满足。

  - **while 循环**：先判断条件，条件为 `true` 时执行代码块（可能一次不执行）：

    ```js
    while (condition) {
      // 循环体（需包含修改条件的逻辑）
    }
    ```

  - **do...while 循环**：先执行一次代码块，再判断条件（至少执行一次）：

    ```js
    do {
      // 循环体
    } while (condition);
    ```

  - **for 循环**：结构清晰，将初始化、条件、更新操作集中在一行：

    ```js
    for (初始化; 条件; 更新) {
      // 循环体
    }
    ```

### 五、函数

- 定义：封装可重复使用的代码块，通过 function关键字声明：

  ```js
  function functionName(parameter1, parameter2) {
    // 函数体
    return result; // 可选，返回值
  }
  ```

- **调用**：`functionName(argument1, argument2);`（参数为传递给函数的值）。

- 特性：

  - 可返回任意类型（数值、字符串、数组、对象等）。
  - 函数调用结果可赋值给变量（如 `var sum = add(2, 3);`）。

- **命名规范**：通常使用驼峰命名法（如 `calculateTotal`）。

#### 变量作用域

- **全局变量**：在函数外声明，可在脚本任何位置访问（包括函数内）。
- **局部变量**：在函数内用 `var` 声明，仅在函数内有效。
- **注意**：函数内未用 `var` 声明的变量会被视为全局变量（易污染全局环境，需避免）。

### 六、对象（进阶）

- 组成：
  - **属性**：对象的变量（如 `person.name`）。
  - **方法**：对象的函数（如 `person.sayHello()`）。
- **实例化**：用 `new` 关键字创建对象实例（如 `var date = new Date();`）。
- 对象类型：
  - **内建对象**：JS 自带（如 `Array`、`Date`、`Math`）。
  - **宿主对象**：运行环境提供（如浏览器中的 `window`、`document`）。
  - **用户定义对象**：开发者自定义的对象（如 `function Person() {}; var p = new Person();`）。

### 补充说明

- JS 中 “变量未声明即赋值自动声明” 的行为仅在非严格模式下有效，严格模式（`"use strict";`）中会报错，建议始终显式声明变量。
- 关联数组本质是对象属性，操作数组应优先使用数字下标，键值对场景更适合用对象。
- 函数内使用 `var` 声明局部变量是良好实践，可避免全局变量污染。
