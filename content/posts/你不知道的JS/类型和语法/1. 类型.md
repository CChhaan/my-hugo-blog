---
title: "1. 类型"
date: 2025-08-20T19:49:53
draft: false
---

### 一、内置类型概述

1. **定义**：类型是值的内部特征，决定值的行为，以区分于其他值。
2. 分类：
   - 基本类型（共 6 种）：空值（null）、未定义（undefined）、布尔值（boolean）、数字（number）、字符串（string）、符号（symbol）。不可再分的原子值，存储值本身（而非引用）。
   - 对象类型（1 种）：对象（object），其他类型统称为基本类型。复杂结构，存储引用地址，可包含多个值（属性 / 元素）。

### 二、typeof 运算符

1. **作用**：用于查看值的类型，返回类型的字符串值，共 7 种可能结果。
2. 特殊情况：
   - null 类型使用 typeof 检测时返回 “object”。（JavaScript 历史 bug，无法修复，需特殊处理）
   - 检测 null 值类型的复合条件：`!a && typeof a === 'object'`（因 null 是假值，且是唯一用 typeof 检测返回 'object' 的基本类型值）。

### 三、对象子类型

1. 函数（function）：
   - 是 object 的子类型，属于可调用对象。
   - 具有内部属性 [[Call]]，使其可被调用。
   - 可拥有属性，如 length 属性表示其声明的参数个数。
   - `typeof function`返回`"function"`，是历史遗留的特殊处理
2. 数组：
   - 是 object 的子类型。
   - 元素按数字顺序索引，length 属性表示元素个数。

### 四、值和类型的特性

1. **变量与类型的关系**：
   - JS 中变量无类型，只有值有类型。
   - 变量可随时持有任何类型的值，语言引擎不强制变量持有与初始值同类型的值。
   - 对变量执行 typeof 操作，结果是变量所持值的类型（因变量无类型），且 typeof 始终返回字符串。
2. **undefined 与 undeclared 的区别**：
   - undefined：变量已在作用域中声明但未赋值。
   - undeclared：变量未在作用域中声明过。
3. **typeof 的安全防范机制**：
   - 对 undeclared 变量使用 typeof，返回 undefined，不会抛出 ReferenceError 错误。
   - 应用场景：在共享全局命名空间中，检查用户定义变量或内建 API 是否存在。
4. **其他安全检查方法**：
   - 检查全局变量是否为全局对象的属性（访问不存在的对象属性不会产生 Reference 错误）。
   - 依赖注入设计模式：将依赖通过参数显式传递到函数中。